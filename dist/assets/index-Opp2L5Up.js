import{d as te,m as re,f as c,W as Pe,p as v,F as Ve,aU as Kn,aV as Wn,aj as Mt,ai as Ul,Q as rl,R as il,r as R,s as ll,$ as ve,aW as no,ah as Zl,k as xe,h as Ue,c as ge,o as le,E as Le,D as Re,P as $e,aN as Hn,l as de,av as ul,aO as qn,w as Qe,b as De,a2 as me,aX as Gn,aY as Pt,G as ke,J as pe,q as ue,aZ as gl,O as ye,g as Ol,t as ml,a_ as Kt,a as Be,ay as Wt,az as Ht,a4 as Xl,a$ as ao,a0 as Te,A as Ft,n as Me,a9 as sl,H as hl,ag as qt,al as Yl,ak as Et,b0 as oo,a8 as Ql,a7 as Un,V as Oe,am as yl,S as dl,b1 as Yn,ad as Nt,b2 as uo,b3 as ro,ae as Jn,L as Pl,aA as Zn,b4 as io,B as Jl,Y as so,Z as co,b5 as vo,a1 as et,aw as fo,ax as In,b6 as mo,aF as ht,aE as yt}from"./index-DpkOdSpx.js";import{C as fl,E as Xn,p as Qn,F as ea,B as go,f as ho,I as yo,g as Tl,s as Bn}from"./index-NTQZ5pKC.js";import{T as po}from"./index-DT4y2raZ.js";const bo=5;var Co=te({name:"DotLoading",props:{size:{type:Number}},setup(e){const t=re("dot-loading");return()=>{const l=e.size?{width:`${e.size}px`,height:`${e.size}px`}:{};return c("div",{class:t,style:{width:e.size?`${e.size*7}px`:void 0,height:e.size?`${e.size}px`:void 0}},[Array(bo).fill(1).map((n,r)=>c("div",{class:`${t}-item`,key:r,style:l},null))])}}}),pt=te({name:"Spin",props:{size:{type:Number},loading:Boolean,dot:Boolean,tip:String,hideIcon:{type:Boolean,default:!1}},setup(e,{slots:t}){const l=re("spin"),n=Pe(Ul,void 0),r=v(()=>[l,{[`${l}-loading`]:e.loading,[`${l}-with-tip`]:e.tip&&!t.default}]),o=()=>{if(t.icon){const i=Kn(t.icon());if(i)return Wn(i,{spin:!0})}return t.element?t.element():e.dot?c(Co,{size:e.size},null):n?.slots.loading?n.slots.loading():c(Mt,{spin:!0,size:e.size},null)},a=()=>{var i,f,g;const s=e.size?{fontSize:`${e.size}px`}:void 0,$=!!((i=t.tip)!=null?i:e.tip);return c(Ve,null,[!e.hideIcon&&c("div",{class:`${l}-icon`,style:s},[o()]),$&&c("div",{class:`${l}-tip`},[(g=(f=t.tip)==null?void 0:f.call(t))!=null?g:e.tip])])};return()=>c("div",{class:r.value},[t.default?c(Ve,null,[t.default(),e.loading&&c("div",{class:`${l}-mask`},[c("div",{class:`${l}-mask-icon`},[a()])])]):a()])}});const la=Object.assign(pt,{install:(e,t)=>{rl(e,t);const l=il(t);e.component(l+pt.name,pt)}}),zl=e=>{const t=R(),l=()=>no(t.value)?t.value.$refs[e]:t.value,n=R();return ll(()=>{n.value=l()}),ve([t],()=>{n.value=l()}),{componentRef:t,elementRef:n}},ta=e=>{const t=v(()=>!!e.value),l=v(()=>{if(e.value)return{type:"embed",...Zl(e.value)?void 0:e.value}});return{displayScrollbar:t,scrollbarProps:l}},So=te({name:"SelectDropdown",components:{ScrollbarComponent:Pt,Empty:Gn,Spin:la},props:{loading:Boolean,empty:Boolean,virtualList:Boolean,bottomOffset:{type:Number,default:0},scrollbar:{type:[Boolean,Object],default:!0},onScroll:{type:[Function,Array]},onReachBottom:{type:[Function,Array]},showHeaderOnEmpty:{type:Boolean,default:!1},showFooterOnEmpty:{type:Boolean,default:!1}},emits:["scroll","reachBottom"],setup(e,{emit:t,slots:l}){var n,r,o;const{scrollbar:a}=ke(e),i=re("select-dropdown"),f=Pe(Ul,void 0),g=(o=(r=f==null?void 0:(n=f.slots).empty)==null?void 0:r.call(n,{component:"select"}))==null?void 0:o[0],{componentRef:s,elementRef:$}=zl("containerRef"),{displayScrollbar:b,scrollbarProps:y}=ta(a),B=k=>{const{scrollTop:O,scrollHeight:S,offsetHeight:d}=k.target;S-(O+d)<=e.bottomOffset&&t("reachBottom",k),t("scroll",k)},x=v(()=>[i,{[`${i}-has-header`]:!!l.header,[`${i}-has-footer`]:!!l.footer}]);return{prefixCls:i,SelectEmpty:g,cls:x,wrapperRef:$,wrapperComRef:s,handleScroll:B,displayScrollbar:b,scrollbarProps:y}}});function $o(e,t,l,n,r,o){const a=Ue("spin");return le(),ge("div",{class:de(e.cls)},[e.$slots.header&&(!e.empty||e.showHeaderOnEmpty)?(le(),ge("div",{key:0,class:de(`${e.prefixCls}-header`)},[$e(e.$slots,"header")],2)):Le("v-if",!0),e.loading?(le(),Re(a,{key:1,class:de(`${e.prefixCls}-loading`)},null,8,["class"])):e.empty?(le(),ge("div",{key:2,class:de(`${e.prefixCls}-empty`)},[$e(e.$slots,"empty",{},()=>[(le(),Re(ul(e.SelectEmpty?e.SelectEmpty:"Empty")))])],2)):Le("v-if",!0),e.virtualList&&!e.loading&&!e.empty?$e(e.$slots,"virtual-list",{key:3}):Le("v-if",!0),e.virtualList?Le("v-if",!0):Hn((le(),Re(ul(e.displayScrollbar?"ScrollbarComponent":"div"),me({key:4,ref:"wrapperComRef",class:`${e.prefixCls}-list-wrapper`},e.scrollbarProps,{onScroll:e.handleScroll}),{default:Qe(()=>[De("ul",{class:de(`${e.prefixCls}-list`)},[$e(e.$slots,"default")],2)]),_:3},16,["class","onScroll"])),[[qn,!e.loading&&!e.empty]]),e.$slots.footer&&(!e.empty||e.showFooterOnEmpty)?(le(),ge("div",{key:5,class:de(`${e.prefixCls}-footer`)},[$e(e.$slots,"footer")],2)):Le("v-if",!0)],2)}var wo=xe(So,[["render",$o]]);const na=Symbol("ArcoSelectContext"),_o=e=>pe(e)&&"isGroup"in e,aa=e=>pe(e)&&"isGroup"in e,xo=(e,t="value")=>String(pe(e)?e[t]:e),Vl=(e,t="value")=>pe(e)?`__arco__option__object__${e[t]}`:e||ue(e)||gl(e)||Zl(e)?`__arco__option__${typeof e}-${e}`:"",ko=e=>e.has("__arco__option__string-"),Io=(e,{valueKey:t,fieldNames:l,origin:n,index:r=-1})=>{var o;if(pe(e)){const i=e[l.value];return{raw:e,index:r,key:Vl(i,t),origin:n,value:i,label:(o=e[l.label])!=null?o:xo(i,t),render:e[l.render],disabled:!!e[l.disabled],tagProps:e[l.tagProps]}}const a={value:e,label:String(e),disabled:!1};return{raw:a,index:r,key:Vl(e,t),origin:n,...a}},At=(e,{valueKey:t,fieldNames:l,origin:n,optionInfoMap:r})=>{var o;const a=[];for(const i of e)if(_o(i)){const f=At((o=i.options)!=null?o:[],{valueKey:t,fieldNames:l,origin:n,optionInfoMap:r});f.length>0&&a.push({...i,key:`__arco__group__${i.label}`,options:f})}else{const f=Io(i,{valueKey:t,fieldNames:l,origin:n});a.push(f),r.get(f.key)||r.set(f.key,f)}return a},zn=(e,{inputValue:t,filterOption:l})=>{const n=r=>{var o;const a=[];for(const i of r)if(aa(i)){const f=n((o=i.options)!=null?o:[]);f.length>0&&a.push({...i,options:f})}else lt(i,{inputValue:t,filterOption:l})&&a.push(i);return a};return n(e)},lt=(e,{inputValue:t,filterOption:l})=>ye(l)?!t||l(t,e.raw):l?e.label.toLowerCase().includes((t??"").toLowerCase()):!0,Bo=(e,t)=>{if(!e||!t||e.length!==t.length)return!1;for(const l of Object.keys(e))if(!pl(e[l],t[l]))return!1;return!0},zo=(e,t)=>{if(!e||!t)return!1;const{length:l}=e;if(l!==t.length)return!1;for(let n=0;n<l;n++)if(!pl(e[n],t[n]))return!1;return!0},pl=(e,t)=>{const l=Object.prototype.toString.call(e);return l!==Object.prototype.toString.call(t)?!1:l==="[object Object]"?Bo(e,t):l==="[object Array]"?zo(e,t):l==="[object Function]"?e===t?!0:e.toString()===t.toString():e===t},Oo=te({name:"Option",components:{Checkbox:fl},props:{value:{type:[String,Number,Boolean,Object],default:void 0},label:String,disabled:Boolean,tagProps:{type:Object},extra:{type:Object},index:{type:Number},internal:Boolean},setup(e){const{disabled:t,tagProps:l,index:n}=ke(e),r=re("select-option"),o=Pe(na,void 0),a=Wt(),i=R(),f=R(l.value);ve(l,(m,C)=>{pl(m,C)||(f.value=m)});const g=R(""),s=v(()=>{var m,C;return(C=(m=e.value)!=null?m:e.label)!=null?C:g.value}),$=v(()=>{var m;return(m=e.label)!=null?m:g.value}),b=v(()=>Vl(s.value,o?.valueKey)),y=v(()=>{var m;return(m=o?.component)!=null?m:"li"}),B=()=>{var m;if(!e.label&&i.value){const C=(m=i.value.textContent)!=null?m:"";g.value!==C&&(g.value=C)}};ll(()=>B()),Kt(()=>B());const x=v(()=>{var m;return(m=o?.valueKeys.includes(b.value))!=null?m:!1}),k=v(()=>o?.activeKey===b.value);let O=R(!0);if(!e.internal){const m=Be({raw:{value:s,label:$,disabled:t,tagProps:f},ref:i,index:n,key:b,origin:"slot",value:s,label:$,disabled:t,tagProps:f});O=v(()=>lt(m,{inputValue:o?.inputValue,filterOption:o?.filterOption})),a&&o?.addSlotOptionInfo(a.uid,m),Ht(()=>{a&&o?.removeSlotOptionInfo(a.uid)})}const S=m=>{e.disabled||o?.onSelect(b.value,m)},d=()=>{e.disabled||o?.setActiveKey(b.value)},p=()=>{e.disabled||o?.setActiveKey()},z=v(()=>[r,{[`${r}-disabled`]:e.disabled,[`${r}-selected`]:x.value,[`${r}-active`]:k.value,[`${r}-multiple`]:o?.multiple}]);return{prefixCls:r,cls:z,selectCtx:o,itemRef:i,component:y,isSelected:x,isValid:O,handleClick:S,handleMouseEnter:d,handleMouseLeave:p}}});function Vo(e,t,l,n,r,o){const a=Ue("checkbox");return Hn((le(),Re(ul(e.component),{ref:"itemRef",class:de([e.cls,{[`${e.prefixCls}-has-suffix`]:!!e.$slots.suffix}]),onClick:e.handleClick,onMouseenter:e.handleMouseEnter,onMouseleave:e.handleMouseLeave},{default:Qe(()=>[e.$slots.icon?(le(),ge("span",{key:0,class:de(`${e.prefixCls}-icon`)},[$e(e.$slots,"icon")],2)):Le("v-if",!0),e.selectCtx&&e.selectCtx.multiple?(le(),Re(a,{key:1,class:de(`${e.prefixCls}-checkbox`),"model-value":e.isSelected,disabled:e.disabled,"uninject-group-context":""},{default:Qe(()=>[$e(e.$slots,"default",{},()=>[Ol(ml(e.label),1)])]),_:3},8,["class","model-value","disabled"])):(le(),ge("span",{key:2,class:de(`${e.prefixCls}-content`)},[$e(e.$slots,"default",{},()=>[Ol(ml(e.label),1)])],2)),e.$slots.suffix?(le(),ge("span",{key:3,class:de(`${e.prefixCls}-suffix`)},[$e(e.$slots,"suffix")],2)):Le("v-if",!0)]),_:3},40,["class","onClick","onMouseenter","onMouseleave"])),[[qn,e.isValid]])}var Ml=xe(Oo,[["render",Vo]]);const Ro={value:"value",label:"label",disabled:"disabled",tagProps:"tagProps",render:"render"},Po=({options:e,extraOptions:t,inputValue:l,filterOption:n,showExtraOptions:r,valueKey:o,fieldNames:a})=>{const i=v(()=>({...Ro,...a?.value})),f=Be(new Map),g=v(()=>Array.from(f.values()).sort((d,p)=>ue(d.index)&&ue(p.index)?d.index-p.index:0)),s=v(()=>{var d,p;const z=new Map;return{optionInfos:At((d=e?.value)!=null?d:[],{valueKey:(p=o?.value)!=null?p:"value",fieldNames:i.value,origin:"options",optionInfoMap:z}),optionInfoMap:z}}),$=v(()=>{var d,p;const z=new Map;return{optionInfos:At((d=t?.value)!=null?d:[],{valueKey:(p=o?.value)!=null?p:"value",fieldNames:i.value,origin:"extraOptions",optionInfoMap:z}),optionInfoMap:z}}),b=Be(new Map);ve([g,e??R([]),t??R([]),o??R("value")],()=>{b.clear(),g.value.forEach((d,p)=>{b.set(d.key,{...d,index:p})}),s.value.optionInfoMap.forEach(d=>{b.has(d.key)||(d.index=b.size,b.set(d.key,d))}),$.value.optionInfoMap.forEach(d=>{b.has(d.key)||(d.index=b.size,b.set(d.key,d))})},{immediate:!0,deep:!0});const y=v(()=>{var d;const p=zn(s.value.optionInfos,{inputValue:l?.value,filterOption:n?.value});return((d=r?.value)==null||d)&&p.push(...zn($.value.optionInfos,{inputValue:l?.value,filterOption:n?.value})),p}),B=v(()=>Array.from(b.values()).filter(d=>d.origin==="extraOptions"&&r?.value===!1?!1:lt(d,{inputValue:l?.value,filterOption:n?.value}))),x=v(()=>B.value.filter(d=>!d.disabled).map(d=>d.key));return{validOptions:y,optionInfoMap:b,validOptionInfos:B,enabledOptionKeys:x,getNextSlotOptionIndex:()=>f.size,addSlotOptionInfo:(d,p)=>{f.set(d,p)},removeSlotOptionInfo:d=>{f.delete(d)}}},vl={ENTER:"Enter",ESC:"Escape",ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown"},On=e=>JSON.stringify({key:e.key,ctrl:!!e.ctrl,shift:!!e.shift,alt:!!e.alt,meta:!!e.meta}),oa=e=>{const t={};return e.forEach((l,n)=>{const r=gl(n)?{key:n}:n;t[On(r)]=l}),l=>{const n=On({key:l.key,ctrl:l.ctrlKey,shift:l.shiftKey,alt:l.altKey,meta:l.metaKey}),r=t[n];r&&(l.stopPropagation(),r(l))}},Fo=({multiple:e,options:t,extraOptions:l,inputValue:n,filterOption:r,showExtraOptions:o,component:a,valueKey:i,fieldNames:f,loading:g,popupVisible:s,valueKeys:$,dropdownRef:b,optionRefs:y,virtualListRef:B,onSelect:x,onPopupVisibleChange:k,enterToOpen:O=!0,defaultActiveFirstOption:S})=>{const{validOptions:d,optionInfoMap:p,validOptionInfos:z,enabledOptionKeys:m,getNextSlotOptionIndex:C,addSlotOptionInfo:F,removeSlotOptionInfo:K}=Po({options:t,extraOptions:l,inputValue:n,filterOption:r,showExtraOptions:o,valueKey:i,fieldNames:f}),T=R();ve(m,X=>{(!T.value||!X.includes(T.value))&&(T.value=X[0])});const A=X=>{T.value=X},G=X=>{const H=m.value.length;if(H===0)return;if(!T.value)return X==="down"?m.value[0]:m.value[H-1];const P=m.value.indexOf(T.value),D=(H+P+(X==="up"?-1:1))%H;return m.value[D]},U=X=>{var H,P;B?.value&&B.value.scrollTo({key:X});const D=p.get(X),Q=(H=b?.value)==null?void 0:H.wrapperRef,ae=(P=y?.value[X])!=null?P:D?.ref;if(!Q||!ae||Q.scrollHeight===Q.offsetHeight)return;const I=ao(ae,Q),M=Q.scrollTop;I.top<0?Q.scrollTo(0,M+I.top):I.bottom<0&&Q.scrollTo(0,M-I.bottom)};ve(s,X=>{var H;if(X){const P=$.value[$.value.length-1];let D=(H=S?.value)==null||H?m.value[0]:void 0;m.value.includes(P)&&(D=P),D!==T.value&&(T.value=D),Te(()=>{T.value&&U(T.value)})}});const Y=oa(new Map([[vl.ENTER,X=>{!g?.value&&!X.isComposing&&(s.value?T.value&&(x(T.value,X),X.preventDefault()):O&&(k(!0),X.preventDefault()))}],[vl.ESC,X=>{s.value&&(k(!1),X.preventDefault())}],[vl.ARROW_DOWN,X=>{if(s.value){const H=G("down");H&&(T.value=H,U(H)),X.preventDefault()}}],[vl.ARROW_UP,X=>{if(s.value){const H=G("up");H&&(T.value=H,U(H)),X.preventDefault()}}]]));return Xl(na,Be({multiple:e,valueKey:i,inputValue:n,filterOption:r,component:a,valueKeys:$,activeKey:T,setActiveKey:A,onSelect:x,getNextSlotOptionIndex:C,addSlotOptionInfo:F,removeSlotOptionInfo:K})),{validOptions:d,optionInfoMap:p,validOptionInfos:z,enabledOptionKeys:m,activeKey:T,setActiveKey:A,addSlotOptionInfo:F,removeSlotOptionInfo:K,getNextActiveKey:G,scrollIntoView:U,handleKeyDown:Y}},Eo=({dataKeys:e,contentRef:t,fixedSize:l,estimatedSize:n,buffer:r})=>{const o=R(0),a=new Map,i=v(()=>e.value.length),f=R(0),g=v(()=>{const C=f.value+r.value*3;return C>i.value?i.value:C}),s=v(()=>{const C=i.value-r.value*3;return C<0?0:C}),$=C=>{C<0?f.value=0:C>s.value?f.value=s.value:f.value=C},b=R(l.value),y=v(()=>n.value!==30?n.value:o.value||n.value),B=(C,F)=>{a.set(C,F)},x=C=>{var F;if(b.value)return y.value;const K=e.value[C];return(F=a.get(K))!=null?F:y.value},k=C=>a.has(C);ll(()=>{const C=Array.from(a.values()).reduce((F,K)=>F+K,0);C>0&&(o.value=C/a.size)});const O=C=>b.value?y.value*C:S(0,C),S=(C,F)=>{let K=0;for(let T=C;T<F;T++)K+=x(T);return K},d=v(()=>b.value?y.value*f.value:S(0,f.value)),p=C=>{const F=C>=d.value;let K=Math.abs(C-d.value);const T=F?f.value:f.value-1;let A=0;for(;K>0;)K-=x(T+A),F?A++:A--;return A},z=C=>{const F=p(C),K=f.value+F-r.value;return K<0?0:K>s.value?s.value:K},m=v(()=>b.value?y.value*(i.value-g.value):S(g.value,i.value));return{frontPadding:d,behindPadding:m,start:f,end:g,getStartByScroll:z,setItemSize:B,hasItemSize:k,setStart:$,getScrollOffset:O}};var No=te({name:"VirtualListItem",props:{hasItemSize:{type:Function,required:!0},setItemSize:{type:Function,required:!0}},setup(e,{slots:t}){var l;const n=(l=Wt())==null?void 0:l.vnode.key,r=R(),o=()=>{var a,i,f,g;const s=(i=(a=r.value)==null?void 0:a.$el)!=null?i:r.value,$=(g=(f=s?.getBoundingClientRect)==null?void 0:f.call(s).height)!=null?g:s?.offsetHeight;$&&e.setItemSize(n,$)};return ll(()=>o()),Ht(()=>o()),()=>{var a;const i=Kn((a=t.default)==null?void 0:a.call(t));return i?Wn(i,{ref:r},!0):null}}});const Ao=te({name:"VirtualList",components:{VirtualListItem:No},props:{height:{type:[Number,String],default:200},data:{type:Array,default:()=>[]},threshold:{type:Number,default:0},itemKey:{type:String,default:"key"},fixedSize:{type:Boolean,default:!1},estimatedSize:{type:Number,default:30},buffer:{type:Number,default:10},component:{type:[String,Object],default:"div"},listAttrs:{type:Object},contentAttrs:{type:Object},paddingPosition:{type:String,default:"content"}},emits:{scroll:e=>!0,reachBottom:e=>!0},setup(e,{emit:t}){const{data:l,itemKey:n,fixedSize:r,estimatedSize:o,buffer:a,height:i}=ke(e),f=re("virtual-list"),g=v(()=>pe(e.component)?{container:"div",list:"div",content:"div",...e.component}:{container:e.component,list:"div",content:"div"}),s=R(),$=R(),b=v(()=>({height:ue(i.value)?`${i.value}px`:i.value,overflow:"auto"})),y=v(()=>l.value.map((T,A)=>{var G;return(G=T[n.value])!=null?G:A})),{frontPadding:B,behindPadding:x,start:k,end:O,getStartByScroll:S,setItemSize:d,hasItemSize:p,setStart:z,getScrollOffset:m}=Eo({dataKeys:y,contentRef:$,fixedSize:r,estimatedSize:o,buffer:a}),C=v(()=>e.threshold&&l.value.length<=e.threshold?l.value:l.value.slice(k.value,O.value)),F=T=>{const{scrollTop:A,scrollHeight:G,offsetHeight:U}=T.target,Y=S(A);Y!==k.value&&(z(Y),Te(()=>{K(A)})),t("scroll",T),Math.floor(G-(A+U))<=0&&t("reachBottom",T)},K=T=>{var A,G;if(s.value)if(ue(T))s.value.scrollTop=T;else{const U=(G=T.index)!=null?G:y.value.indexOf((A=T.key)!=null?A:"");z(U-a.value),s.value.scrollTop=m(U),Te(()=>{if(s.value){const Y=m(U);Y!==s.value.scrollTop&&(s.value.scrollTop=Y)}})}};return{prefixCls:f,containerRef:s,contentRef:$,frontPadding:B,currentList:C,behindPadding:x,onScroll:F,setItemSize:d,hasItemSize:p,start:k,scrollTo:K,style:b,mergedComponent:g}}});function jo(e,t,l,n,r,o){const a=Ue("VirtualListItem");return le(),Re(ul(e.mergedComponent.container),{ref:"containerRef",class:de(e.prefixCls),style:Me(e.style),onScroll:e.onScroll},{default:Qe(()=>[(le(),Re(ul(e.mergedComponent.list),me(e.listAttrs,{style:e.paddingPosition==="list"?{paddingTop:`${e.frontPadding}px`,paddingBottom:`${e.behindPadding}px`}:{}}),{default:Qe(()=>[(le(),Re(ul(e.mergedComponent.content),me({ref:"contentRef"},e.contentAttrs,{style:e.paddingPosition==="content"?{paddingTop:`${e.frontPadding}px`,paddingBottom:`${e.behindPadding}px`}:{}}),{default:Qe(()=>[(le(!0),ge(Ve,null,Ft(e.currentList,(i,f)=>{var g;return le(),Re(a,{key:(g=i[e.itemKey])!=null?g:e.start+f,"has-item-size":e.hasItemSize,"set-item-size":e.setItemSize},{default:Qe(()=>[$e(e.$slots,"item",{item:i,index:e.start+f})]),_:2},1032,["has-item-size","set-item-size"])}),128))]),_:3},16,["style"]))]),_:3},16,["style"]))]),_:3},40,["class","style","onScroll"])}var ua=xe(Ao,[["render",jo]]);const Lo=({defaultValue:e,modelValue:t,emit:l,eventName:n="input",updateEventName:r="update:modelValue",eventHandlers:o})=>{var a;const i=R(),f=R((a=e?.value)!=null?a:""),g=R(!1),s=R(!1),$=R("");let b;const y=v(()=>{var m;return(m=t?.value)!=null?m:f.value}),B=(m,C)=>{f.value=m,l(r,m),l(n,m,C)},x=m=>{const{value:C}=m.target;s.value||(B(C,m),Te(()=>{i.value&&y.value!==i.value.value&&(i.value.value=y.value)}))},k=m=>{n==="input"&&y.value!==b&&(b=y.value,l("change",y.value,m))},O=m=>{var C;const{value:F}=m.target;m.type==="compositionend"?(s.value=!1,$.value="",B(F,m),Te(()=>{i.value&&y.value!==i.value.value&&(i.value.value=y.value)})):(s.value=!0,$.value=y.value+((C=m.data)!=null?C:""))},S=m=>{var C,F;g.value=!0,b=y.value,l("focus",m),(F=(C=o?.value)==null?void 0:C.onFocus)==null||F.call(C,m)},d=m=>{var C,F;g.value=!1,l("blur",m),(F=(C=o?.value)==null?void 0:C.onBlur)==null||F.call(C,m),k(m)},p=m=>{const C=m.key||m.code;!s.value&&C===Xn.key&&(l("pressEnter",m),k(m))},z=m=>{i.value&&m.target!==i.value&&(m.preventDefault(),i.value.focus())};return ve(y,m=>{i.value&&m!==i.value.value&&(i.value.value=m)}),{inputRef:i,_value:f,_focused:g,isComposition:s,compositionValue:$,computedValue:y,handleInput:x,handleComposition:O,handleFocus:S,handleBlur:d,handleKeyDown:p,handleMousedown:z}};var Do=te({name:"InputLabel",inheritAttrs:!1,props:{modelValue:Object,inputValue:{type:String,default:""},enabledInput:Boolean,formatLabel:Function,placeholder:String,retainInputValue:Boolean,disabled:Boolean,baseCls:String,size:String,error:Boolean,focused:Boolean,uninjectFormItemContext:Boolean},emits:["update:inputValue","inputValueChange","focus","blur"],setup(e,{attrs:t,emit:l,slots:n}){var r;const{size:o,disabled:a,error:i,inputValue:f,uninjectFormItemContext:g}=ke(e),s=(r=e.baseCls)!=null?r:re("input-label"),{mergedSize:$,mergedDisabled:b,mergedError:y,eventHandlers:B}=sl({size:o,disabled:a,error:i,uninject:g?.value}),{mergedSize:x}=hl($),{inputRef:k,_focused:O,computedValue:S,handleInput:d,handleComposition:p,handleFocus:z,handleBlur:m,handleMousedown:C}=Lo({modelValue:f,emit:l,eventName:"inputValueChange",updateEventName:"update:inputValue",eventHandlers:B}),F=v(()=>{var P;return(P=e.focused)!=null?P:O.value}),K=v(()=>e.enabledInput&&O.value||!e.modelValue),T=()=>{var P,D;return e.modelValue?(D=(P=e.formatLabel)==null?void 0:P.call(e,e.modelValue))!=null?D:e.modelValue.label:""},A=v(()=>e.enabledInput&&e.modelValue?T():e.placeholder),G=()=>{var P,D;return e.modelValue?(D=(P=n.default)==null?void 0:P.call(n,{data:e.modelValue}))!=null?D:T():null},U=v(()=>[s,`${s}-size-${x.value}`,{[`${s}-search`]:e.enabledInput,[`${s}-focus`]:F.value,[`${s}-disabled`]:b.value,[`${s}-error`]:y.value}]),Y=v(()=>qt(t,Yl)),X=v(()=>Qn(t,Yl));return{inputRef:k,render:()=>c("span",me(Y.value,{class:U.value,title:T(),onMousedown:C}),[n.prefix&&c("span",{class:`${s}-prefix`},[n.prefix()]),c("input",me(X.value,{ref:k,class:[`${s}-input`,{[`${s}-input-hidden`]:!K.value}],value:S.value,readonly:!e.enabledInput,placeholder:A.value,disabled:b.value,onInput:d,onFocus:z,onBlur:m,onCompositionstart:p,onCompositionupdate:p,onCompositionend:p}),null),c("span",{class:[`${s}-value`,{[`${s}-value-hidden`]:K.value}]},[G()]),n.suffix&&c("span",{class:`${s}-suffix`},[n.suffix()])])}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}});const To=(e,t)=>{const l=[];for(const n of e)if(pe(n))l.push({raw:n,value:n[t.value],label:n[t.label],closable:n[t.closable],tagProps:n[t.tagProps]});else if(e||ue(e)){const r={value:n,label:String(n),closable:!0};l.push({raw:r,...r})}return l},Mo={value:"value",label:"label",closable:"closable",tagProps:"tagProps"};var bt=te({name:"InputTag",inheritAttrs:!1,props:{modelValue:{type:Array},defaultValue:{type:Array,default:()=>[]},inputValue:String,defaultInputValue:{type:String,default:""},placeholder:String,disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1},size:{type:String},maxTagCount:{type:Number,default:0},retainInputValue:{type:[Boolean,Object],default:!1},formatTag:{type:Function},uniqueValue:{type:Boolean,default:!1},fieldNames:{type:Object},tagNowrap:{type:Boolean,default:!1},baseCls:String,focused:Boolean,disabledInput:Boolean,uninjectFormItemContext:Boolean},emits:{"update:modelValue":e=>!0,"update:inputValue":e=>!0,change:(e,t)=>!0,inputValueChange:(e,t)=>!0,pressEnter:(e,t)=>!0,remove:(e,t)=>!0,clear:e=>!0,focus:e=>!0,blur:e=>!0},setup(e,{emit:t,slots:l,attrs:n}){const{size:r,disabled:o,error:a,uninjectFormItemContext:i,modelValue:f}=ke(e),g=e.baseCls||re("input-tag"),s=R(),$=R(),{mergedSize:b,mergedDisabled:y,mergedError:B,feedback:x,eventHandlers:k}=sl({size:r,disabled:o,error:a,uninject:i?.value}),{mergedSize:O}=hl(b),S=v(()=>({...Mo,...e.fieldNames})),d=R(!1),p=R(e.defaultValue),z=R(e.defaultInputValue),m=R(!1),C=R(""),F=v(()=>pe(e.retainInputValue)?{create:!1,blur:!1,...e.retainInputValue}:{create:e.retainInputValue,blur:e.retainInputValue}),K=Be({width:"12px"}),T=v(()=>e.focused||d.value),A=(E,Z)=>{z.value=E,t("update:inputValue",E),t("inputValueChange",E,Z)},G=E=>{var Z;const{value:oe}=E.target;E.type==="compositionend"?(m.value=!1,C.value="",A(oe,E),Te(()=>{s.value&&Y.value!==s.value.value&&(s.value.value=Y.value)})):(m.value=!0,C.value=Y.value+((Z=E.data)!=null?Z:""))},U=v(()=>{var E;return(E=e.modelValue)!=null?E:p.value}),Y=v(()=>{var E;return(E=e.inputValue)!=null?E:z.value});ve(f,E=>{(Oe(E)||yl(E))&&(p.value=[])});const X=E=>{s.value&&E.target!==s.value&&(E.preventDefault(),s.value.focus())},H=E=>{const{value:Z}=E.target;m.value||(A(Z,E),Te(()=>{s.value&&Y.value!==s.value.value&&(s.value.value=Y.value)}))},P=v(()=>To(U.value,S.value)),D=v(()=>{if(e.maxTagCount>0){const E=P.value.length-e.maxTagCount;if(E>0){const Z=P.value.slice(0,e.maxTagCount),oe={value:"__arco__more",label:`+${E}...`,closable:!1};return Z.push({raw:oe,...oe}),Z}}return P.value}),Q=(E,Z)=>{var oe,_e;p.value=E,t("update:modelValue",E),t("change",E,Z),(_e=(oe=k.value)==null?void 0:oe.onChange)==null||_e.call(oe,Z)},ae=(E,Z,oe)=>{var _e;const he=(_e=U.value)==null?void 0:_e.filter((nl,ze)=>ze!==Z);Q(he,oe),t("remove",E,oe)},I=E=>{Q([],E),t("clear",E)},M=v(()=>!y.value&&!e.readonly&&e.allowClear&&!!U.value.length),J=E=>{var Z;if(Y.value){if(E.preventDefault(),e.uniqueValue&&((Z=U.value)!=null&&Z.includes(Y.value))){t("pressEnter",Y.value,E);return}const oe=U.value.concat(Y.value);Q(oe,E),t("pressEnter",Y.value,E),F.value.create||A("",E)}},se=E=>{var Z,oe;d.value=!0,t("focus",E),(oe=(Z=k.value)==null?void 0:Z.onFocus)==null||oe.call(Z,E)},we=E=>{var Z,oe;d.value=!1,!F.value.blur&&Y.value&&A("",E),t("blur",E),(oe=(Z=k.value)==null?void 0:Z.onBlur)==null||oe.call(Z,E)},ne=()=>{for(let E=P.value.length-1;E>=0;E--)if(P.value[E].closable)return E;return-1},Ee=E=>{if(y.value||e.readonly)return;const Z=E.key||E.code;if(!m.value&&Y.value&&Z===Xn.key&&J(E),!m.value&&D.value.length>0&&!Y.value&&Z===go.key){const oe=ne();oe>=0&&ae(P.value[oe].value,oe,E)}},Ne=E=>{E>12?K.width=`${E}px`:K.width="12px"};ll(()=>{$.value&&Ne($.value.offsetWidth)});const Ie=()=>{$.value&&Ne($.value.offsetWidth)};ve(Y,E=>{s.value&&!m.value&&E!==s.value.value&&(s.value.value=E)});const Cl=v(()=>[g,`${g}-size-${O.value}`,{[`${g}-disabled`]:y.value,[`${g}-disabled-input`]:e.disabledInput,[`${g}-error`]:B.value,[`${g}-focus`]:T.value,[`${g}-readonly`]:e.readonly,[`${g}-has-tag`]:D.value.length>0,[`${g}-has-prefix`]:!!l.prefix,[`${g}-has-suffix`]:!!l.suffix||M.value||x.value,[`${g}-has-placeholder`]:!U.value.length}]),tl=v(()=>qt(n,Yl)),We=v(()=>Qn(n,Yl));return{inputRef:s,render:()=>{var E;return c("span",me({class:Cl.value,onMousedown:X},tl.value),[c(Et,{onResize:Ie},{default:()=>[c("span",{ref:$,class:`${g}-mirror`},[D.value.length>0?C.value||Y.value:C.value||Y.value||e.placeholder])]}),l.prefix&&c("span",{class:`${g}-prefix`},[l.prefix()]),c(oo,{tag:"span",name:"input-tag-zoom",class:[`${g}-inner`,{[`${g}-nowrap`]:e.tagNowrap}]},{default:()=>[D.value.map((Z,oe)=>c(po,me({key:`tag-${Z.value}`,class:`${g}-tag`,closable:!y.value&&!e.readonly&&Z.closable,visible:!0,nowrap:e.tagNowrap},Z.tagProps,{onClose:_e=>ae(Z.value,oe,_e)}),{default:()=>{var _e,he,nl,ze;return[(ze=(nl=(_e=l.tag)==null?void 0:_e.call(l,{data:Z.raw}))!=null?nl:(he=e.formatTag)==null?void 0:he.call(e,Z.raw))!=null?ze:Z.label]}})),c("input",me(We.value,{ref:s,key:"input-tag-input",class:`${g}-input`,style:K,placeholder:D.value.length===0?e.placeholder:void 0,disabled:y.value,readonly:e.readonly||e.disabledInput,onInput:H,onKeydown:Ee,onFocus:se,onBlur:we,onCompositionstart:G,onCompositionupdate:G,onCompositionend:G}),null)]}),M.value&&c(Ql,{class:`${g}-clear-btn`,onClick:I,onMousedown:Z=>Z.stopPropagation()},{default:()=>[c(Un,null,null)]}),(l.suffix||!!x.value)&&c("span",{class:`${g}-suffix`},[(E=l.suffix)==null?void 0:E.call(l),!!x.value&&c(ea,{type:x.value},null)])])}}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}});const Ko=Object.assign(bt,{install:(e,t)=>{rl(e,t);const l=il(t);e.component(l+bt.name,bt)}});var Vn=te({name:"SelectView",props:{modelValue:{type:Array,required:!0},inputValue:String,placeholder:String,disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},opened:{type:Boolean,default:!1},size:{type:String},bordered:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1},allowCreate:{type:Boolean,default:!1},allowSearch:{type:Boolean,default:e=>dl(e.modelValue)},maxTagCount:{type:Number,default:0},tagNowrap:{type:Boolean,default:!1},retainInputValue:{type:Boolean,default:!1}},emits:["remove","clear","focus","blur"],setup(e,{emit:t,slots:l}){const{size:n,disabled:r,error:o}=ke(e),a=re("select-view"),{feedback:i,eventHandlers:f,mergedDisabled:g,mergedSize:s,mergedError:$}=sl({size:n,disabled:r,error:o}),{mergedSize:b}=hl(s),{opened:y}=ke(e),B=R(),x=v(()=>{var A;return(A=B.value)==null?void 0:A.inputRef}),k=v(()=>e.modelValue.length===0),O=v(()=>e.allowSearch||e.allowCreate),S=v(()=>e.allowClear&&!e.disabled&&!k.value),d=A=>{var G,U;t("focus",A),(U=(G=f.value)==null?void 0:G.onFocus)==null||U.call(G,A)},p=A=>{var G,U;t("blur",A),(U=(G=f.value)==null?void 0:G.onBlur)==null||U.call(G,A)},z=A=>{t("remove",A)},m=A=>{t("clear",A)},C=()=>{var A,G,U,Y;return e.loading?(G=(A=l["loading-icon"])==null?void 0:A.call(l))!=null?G:c(Mt,null,null):e.allowSearch&&e.opened?(Y=(U=l["search-icon"])==null?void 0:U.call(l))!=null?Y:c(ho,null,null):l["arrow-icon"]?l["arrow-icon"]():c(Yn,{class:`${a}-arrow-icon`},null)},F=()=>c(Ve,null,[S.value&&c(Ql,{class:`${a}-clear-btn`,onClick:m,onMousedown:A=>A.stopPropagation()},{default:()=>[c(Un,null,null)]}),c("span",{class:`${a}-icon`},[C()]),!!i.value&&c(ea,{type:i.value},null)]);ve(y,A=>{!A&&x.value&&x.value.isSameNode(document.activeElement)&&x.value.blur()});const K=v(()=>[`${a}-${e.multiple?"multiple":"single"}`,{[`${a}-opened`]:e.opened,[`${a}-borderless`]:!e.bordered}]);return{inputRef:x,handleFocus:d,handleBlur:p,render:()=>e.multiple?c(Ko,{ref:B,baseCls:a,class:K.value,modelValue:e.modelValue,inputValue:e.inputValue,focused:e.opened,placeholder:e.placeholder,disabled:g.value,size:b.value,error:$.value,maxTagCount:e.maxTagCount,disabledInput:!e.allowSearch&&!e.allowCreate,tagNowrap:e.tagNowrap,retainInputValue:!0,uninjectFormItemContext:!0,onRemove:z,onFocus:d,onBlur:p},{prefix:l.prefix,suffix:F,tag:l.label}):c(Do,{ref:B,baseCls:a,class:K.value,modelValue:e.modelValue[0],inputValue:e.inputValue,focused:e.opened,placeholder:e.placeholder,disabled:g.value,size:b.value,error:$.value,enabledInput:O.value,uninjectFormItemContext:!0,onFocus:d,onBlur:p},{default:l.label,prefix:l.prefix,suffix:F})}},methods:{focus(){this.inputRef&&this.inputRef.focus()},blur(){this.inputRef&&this.inputRef.blur()}},render(){return this.render()}});const Wo=te({name:"Optgroup",props:{label:{type:String}},setup(){return{prefixCls:re("select-group")}}});function Ho(e,t,l,n,r,o){return le(),ge(Ve,null,[De("li",{class:de(`${e.prefixCls}-title`)},[$e(e.$slots,"label",{},()=>[Ol(ml(e.label),1)])],2),$e(e.$slots,"default")],64)}var Kl=xe(Wo,[["render",Ho]]);const Rn=typeof window>"u"?global:window;function jt(e,t){let l=0;return(...n)=>{l&&Rn.clearTimeout(l),l=Rn.setTimeout(()=>{l=0,e(...n)},t)}}function qo(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Pl(e)}const Go={value:"value",label:"label",disabled:"disabled",tagProps:"tagProps",render:"render"};var Ct=te({name:"Select",components:{Trigger:Nt,SelectView:Vn},inheritAttrs:!1,props:{multiple:{type:Boolean,default:!1},modelValue:{type:[String,Number,Boolean,Object,Array],default:void 0},defaultValue:{type:[String,Number,Boolean,Object,Array],default:e=>Oe(e.multiple)?"":[]},inputValue:{type:String},defaultInputValue:{type:String,default:""},size:{type:String},placeholder:String,loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1},allowSearch:{type:[Boolean,Object],default:e=>!!e.multiple},allowCreate:{type:Boolean,default:!1},maxTagCount:{type:Number,default:0},popupContainer:{type:[String,Object]},bordered:{type:Boolean,default:!0},defaultActiveFirstOption:{type:Boolean,default:!0},popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},unmountOnClose:{type:Boolean,default:!1},filterOption:{type:[Boolean,Function],default:!0},options:{type:Array,default:()=>[]},virtualListProps:{type:Object},triggerProps:{type:Object},formatLabel:{type:Function},fallbackOption:{type:[Boolean,Function],default:!0},showExtraOptions:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},searchDelay:{type:Number,default:500},limit:{type:Number,default:0},fieldNames:{type:Object},scrollbar:{type:[Boolean,Object],default:!0},showHeaderOnEmpty:{type:Boolean,default:!1},showFooterOnEmpty:{type:Boolean,default:!1},tagNowrap:{type:Boolean,default:!1}},emits:{"update:modelValue":e=>!0,"update:inputValue":e=>!0,"update:popupVisible":e=>!0,change:e=>!0,inputValueChange:e=>!0,popupVisibleChange:e=>!0,clear:e=>!0,remove:e=>!0,search:e=>!0,dropdownScroll:e=>!0,dropdownReachBottom:e=>!0,exceedLimit:(e,t)=>!0},setup(e,{slots:t,emit:l,attrs:n}){const{size:r,disabled:o,error:a,options:i,filterOption:f,valueKey:g,multiple:s,popupVisible:$,defaultPopupVisible:b,showExtraOptions:y,modelValue:B,fieldNames:x,loading:k,defaultActiveFirstOption:O}=ke(e),S=re("select"),{mergedSize:d,mergedDisabled:p,mergedError:z,eventHandlers:m}=sl({size:r,disabled:o,error:a}),C=v(()=>e.virtualListProps?"div":"li"),F=v(()=>pe(e.allowSearch)&&!!e.allowSearch.retainInputValue);v(()=>{if(ye(e.formatLabel))return _=>{const j=he.get(_.value);return e.formatLabel(j)}});const K=R(),T=R({}),A=R(),{computedPopupVisible:G,handlePopupVisibleChange:U}=uo({popupVisible:$,defaultPopupVisible:b,emit:l}),Y=R(e.defaultValue),X=v(()=>{var _;const j=(_=e.modelValue)!=null?_:Y.value;return(dl(j)?j:j||ue(j)||gl(j)||Zl(j)?[j]:[]).map(ee=>({value:ee,key:Vl(ee,e.valueKey)}))});ve(B,_=>{(Oe(_)||yl(_))&&(Y.value=s.value?[]:_)});const H=v(()=>X.value.map(_=>_.key)),P=v(()=>({...Go,...x?.value})),D=R(),Q=_=>{const j={};return _.forEach(W=>{j[W]=he.get(W)}),j},ae=_=>{D.value=Q(_)},I=_=>ye(e.fallbackOption)?e.fallbackOption(_):{[P.value.value]:_,[P.value.label]:String(pe(_)?_[g?.value]:_)},M=()=>{const _=[],j=[];if(e.allowCreate||e.fallbackOption){for(const W of X.value)if(!j.includes(W.key)&&W.value!==""){const ee=he.get(W.key);(!ee||ee.origin==="extraOptions")&&(_.push(W),j.push(W.key))}}if(e.allowCreate&&ne.value){const W=Vl(ne.value);if(!j.includes(W)){const ee=he.get(W);(!ee||ee.origin==="extraOptions")&&_.push({value:ne.value,key:W})}}return _},J=R([]),se=v(()=>J.value.map(_=>{var j;let W=I(_.value);const ee=(j=D.value)==null?void 0:j[_.key];return!Oe(ee)&&!ro(ee)&&(W={...W,...ee}),W}));Te(()=>{Jn(()=>{var _;const j=M();if(j.length!==J.value.length)J.value=j;else if(j.length>0){for(let W=0;W<j.length;W++)if(j[W].key!==((_=J.value[W])==null?void 0:_.key)){J.value=j;break}}})});const we=R(""),ne=v(()=>{var _;return(_=e.inputValue)!=null?_:we.value});ve(G,_=>{!_&&!F.value&&ne.value&&Ie("")});const Ee=_=>{var j,W;return e.multiple?_.map(ee=>{var al,Ae;return(Ae=(al=he.get(ee))==null?void 0:al.value)!=null?Ae:""}):(W=(j=he.get(_[0]))==null?void 0:j.value)!=null?W:ko(he)?void 0:""},Ne=_=>{var j,W;const ee=Ee(_);Y.value=ee,l("update:modelValue",ee),l("change",ee),(W=(j=m.value)==null?void 0:j.onChange)==null||W.call(j),ae(_)},Ie=_=>{we.value=_,l("update:inputValue",_),l("inputValueChange",_)},Cl=(_,j)=>{if(e.multiple){if(H.value.includes(_)){const W=H.value.filter(ee=>ee!==_);Ne(W)}else if(ze.value.includes(_))if(e.limit>0&&H.value.length>=e.limit){const W=he.get(_);l("exceedLimit",W?.value,j)}else{const W=H.value.concat(_);Ne(W)}F.value||Ie("")}else{if(_!==H.value[0]&&Ne([_]),F.value){const W=he.get(_);W&&Ie(W.label)}U(!1)}},tl=jt(_=>{l("search",_)},e.searchDelay),We=_=>{_!==ne.value&&(G.value||U(!0),Ie(_),e.allowSearch&&tl(_))},Ye=_=>{const j=he.get(_),W=H.value.filter(ee=>ee!==_);Ne(W),l("remove",j?.value)},E=_=>{_?.stopPropagation();const j=H.value.filter(W=>{var ee;return(ee=he.get(W))==null?void 0:ee.disabled});Ne(j),Ie(""),l("clear",_)},Z=_=>{l("dropdownScroll",_)},oe=_=>{l("dropdownReachBottom",_)},{validOptions:_e,optionInfoMap:he,validOptionInfos:nl,enabledOptionKeys:ze,handleKeyDown:nt}=Fo({multiple:s,options:i,extraOptions:se,inputValue:ne,filterOption:f,showExtraOptions:y,component:C,valueKey:g,fieldNames:x,loading:k,popupVisible:G,valueKeys:H,dropdownRef:K,optionRefs:T,virtualListRef:A,defaultActiveFirstOption:O,onSelect:Cl,onPopupVisibleChange:U}),at=v(()=>{var _;const j=[];for(const W of X.value){const ee=he.get(W.key);ee&&j.push({...ee,value:W.key,label:(_=ee?.label)!=null?_:String(pe(W.value)?W.value[g?.value]:W.value),closable:!ee?.disabled,tagProps:ee?.tagProps})}return j}),ot=_=>{if(ye(t.option)){const j=t.option;return()=>j({data:_.raw})}return ye(_.render)?_.render:()=>_.label},He=_=>{if(aa(_)){let j;return c(Kl,{key:_.key,label:_.label},qo(j=_.options.map(W=>He(W)))?j:{default:()=>[j]})}return lt(_,{inputValue:ne.value,filterOption:f?.value})?c(Ml,{ref:j=>{j?.$el&&(T.value[_.key]=j.$el)},key:_.key,value:_.value,label:_.label,disabled:_.disabled,internal:!0},{default:ot(_)}):null},ut=()=>c(wo,{ref:K,loading:e.loading,empty:nl.value.length===0,virtualList:!!e.virtualListProps,scrollbar:e.scrollbar,showHeaderOnEmpty:e.showHeaderOnEmpty,showFooterOnEmpty:e.showFooterOnEmpty,onScroll:Z,onReachBottom:oe},{default:()=>{var _,j;return[...(j=(_=t.default)==null?void 0:_.call(t))!=null?j:[],..._e.value.map(He)]},"virtual-list":()=>c(ua,me(e.virtualListProps,{ref:A,data:_e.value}),{item:({item:_})=>He(_)}),empty:t.empty,header:t.header,footer:t.footer}),rt=({data:_})=>{var j,W,ee,al;if((t.label||ye(e.formatLabel))&&_){const Ae=he.get(_.value);if(Ae?.raw)return(ee=(j=t.label)==null?void 0:j.call(t,{data:Ae.raw}))!=null?ee:(W=e.formatLabel)==null?void 0:W.call(e,Ae.raw)}return(al=_?.label)!=null?al:""};return()=>c(Nt,me({trigger:"click",position:"bl",popupOffset:4,animationName:"slide-dynamic-origin",hideEmpty:!0,preventFocus:!0,autoFitPopupWidth:!0,autoFitTransformOrigin:!0,disabled:p.value,popupVisible:G.value,unmountOnClose:e.unmountOnClose,clickToClose:!(e.allowSearch||e.allowCreate),popupContainer:e.popupContainer,onPopupVisibleChange:U},e.triggerProps),{default:()=>{var _,j;return[(j=(_=t.trigger)==null?void 0:_.call(t))!=null?j:c(Vn,me({class:S,modelValue:at.value,inputValue:ne.value,multiple:e.multiple,disabled:p.value,error:z.value,loading:e.loading,allowClear:e.allowClear,allowCreate:e.allowCreate,allowSearch:!!e.allowSearch,opened:G.value,maxTagCount:e.maxTagCount,placeholder:e.placeholder,bordered:e.bordered,size:d.value,tagNowrap:e.tagNowrap,onInputValueChange:We,onRemove:Ye,onClear:E,onKeydown:nt},n),{label:rt,prefix:t.prefix,"arrow-icon":t["arrow-icon"],"loading-icon":t["loading-icon"],"search-icon":t["search-icon"]})]},content:ut})}});const Uo=Object.assign(Ct,{Option:Ml,OptGroup:Kl,install:(e,t)=>{rl(e,t);const l=il(t);e.component(l+Ct.name,Ct),e.component(l+Ml.name,Ml),e.component(l+Kl.name,Kl)}}),ra=Symbol("RadioGroup");var Wl=te({name:"Radio",components:{IconHover:Ql},props:{modelValue:{type:[String,Number,Boolean],default:void 0},defaultChecked:{type:Boolean,default:!1},value:{type:[String,Number,Boolean],default:!0},type:{type:String,default:"radio"},disabled:{type:Boolean,default:!1},uninjectGroupContext:{type:Boolean,default:!1}},emits:{"update:modelValue":e=>!0,change:(e,t)=>!0},setup(e,{emit:t,slots:l}){const n=re("radio"),{modelValue:r}=ke(e),o=e.uninjectGroupContext?void 0:Pe(ra,void 0),{mergedDisabled:a,eventHandlers:i}=sl({disabled:Zn(e,"disabled")}),f=R(null),g=R(e.defaultChecked),s=v(()=>o?.name==="ArcoRadioGroup"),$=v(()=>{var p;return(p=o?.type)!=null?p:e.type}),b=v(()=>o?.disabled||a.value),y=v(()=>{var p,z;return s.value?o?.value===((p=e.value)!=null?p:!0):Oe(e.modelValue)?g.value:e.modelValue===((z=e.value)!=null?z:!0)});ve(r,p=>{(Oe(p)||yl(p))&&(g.value=!1)}),ve(y,(p,z)=>{p!==z&&(g.value=p,f.value&&(f.value.checked=p))});const B=p=>{var z,m;(m=(z=i.value)==null?void 0:z.onFocus)==null||m.call(z,p)},x=p=>{var z,m;(m=(z=i.value)==null?void 0:z.onBlur)==null||m.call(z,p)},k=p=>{p.stopPropagation()},O=p=>{var z,m,C,F,K;g.value=!0,s.value?o?.handleChange((z=e.value)!=null?z:!0,p):(t("update:modelValue",(m=e.value)!=null?m:!0),t("change",(C=e.value)!=null?C:!0,p),(K=(F=i.value)==null?void 0:F.onChange)==null||K.call(F,p)),Te(()=>{f.value&&f.value.checked!==y.value&&(f.value.checked=y.value)})},S=v(()=>[`${$.value==="button"?`${n}-button`:n}`,{[`${n}-checked`]:y.value,[`${n}-disabled`]:b.value}]),d=()=>c(Ve,null,[c(Ue("icon-hover"),{class:`${n}-icon-hover`,disabled:b.value||y.value},{default:()=>[c("span",{class:`${n}-icon`},null)]}),l.default&&c("span",{class:`${n}-label`},[l.default()])]);return()=>{var p,z,m,C;return c("label",{class:S.value},[c("input",{ref:f,type:"radio",checked:y.value,value:e.value,class:`${n}-target`,disabled:b.value,onClick:k,onChange:O,onFocus:B,onBlur:x},null),$.value==="radio"?(C=(m=(z=l.radio)!=null?z:(p=o?.slots)==null?void 0:p.radio)==null?void 0:m({checked:y.value,disabled:b.value}))!=null?C:d():c("span",{class:`${n}-button-content`},[l.default&&l.default()])])}}}),St=te({name:"RadioGroup",props:{modelValue:{type:[String,Number,Boolean],default:void 0},defaultValue:{type:[String,Number,Boolean],default:""},type:{type:String,default:"radio"},size:{type:String},options:{type:Array},direction:{type:String,default:"horizontal"},disabled:{type:Boolean,default:!1}},emits:{"update:modelValue":e=>!0,change:(e,t)=>!0},setup(e,{emit:t,slots:l}){const n=re("radio-group"),{size:r,type:o,disabled:a,modelValue:i}=ke(e),{mergedDisabled:f,mergedSize:g,eventHandlers:s}=sl({size:r,disabled:a}),{mergedSize:$}=hl(g),b=R(e.defaultValue),y=v(()=>{var S;return(S=e.modelValue)!=null?S:b.value}),B=v(()=>{var S;return((S=e.options)!=null?S:[]).map(d=>gl(d)||ue(d)?{label:d,value:d}:d)});Xl(ra,Be({name:"ArcoRadioGroup",value:y,size:$,type:o,disabled:f,slots:l,handleChange:(S,d)=>{var p,z;b.value=S,t("update:modelValue",S),t("change",S,d),(z=(p=s.value)==null?void 0:p.onChange)==null||z.call(p,d)}})),ve(y,S=>{b.value!==S&&(b.value=S)}),ve(i,S=>{(Oe(S)||yl(S))&&(b.value="")});const k=v(()=>[`${n}${e.type==="button"?"-button":""}`,`${n}-size-${$.value}`,`${n}-direction-${e.direction}`,{[`${n}-disabled`]:f.value}]),O=()=>B.value.map(S=>c(Wl,{key:S.value,value:S.value,disabled:S.disabled,modelValue:y.value===S.value},{default:()=>[l.label?l.label({data:S}):ye(S.label)?S.label():S.label]}));return()=>{var S;return c("span",{class:k.value},[B.value.length>0?O():(S=l.default)==null?void 0:S.call(l)])}}});const Lt=Object.assign(Wl,{Group:St,install:(e,t)=>{rl(e,t);const l=il(t);e.component(l+Wl.name,Wl),e.component(l+St.name,St)}}),Yo=te({name:"IconUp",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const l=re("icon"),n=v(()=>[l,`${l}-up`,{[`${l}-spin`]:e.spin}]),r=v(()=>{const a={};return e.size&&(a.fontSize=ue(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:n,innerStyle:r,onClick:a=>{t("click",a)}}}}),Jo=["stroke-width","stroke-linecap","stroke-linejoin"];function Zo(e,t,l,n,r,o){return le(),ge("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:de(e.cls),style:Me(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...a)=>e.onClick&&e.onClick(...a))},t[1]||(t[1]=[De("path",{d:"M39.6 30.557 24.043 15 8.487 30.557"},null,-1)]),14,Jo)}var $t=xe(Yo,[["render",Zo]]);const Xo=Object.assign($t,{install:(e,t)=>{var l;const n=(l=t?.iconPrefix)!=null?l:"";e.component(n+$t.name,$t)}}),ia=e=>{const t={},l=R([]),n=()=>{if(t.value){const r=io(t.value,e);(r.length!==l.value.length||r.toString()!==l.value.toString())&&(l.value=r)}};return ll(()=>n()),Kt(()=>n()),{children:t,components:l}};function Gt(e,t){return t===void 0&&(t=15),+parseFloat(Number(e).toPrecision(t))}function Ke(e){var t=e.toString().split(/[eE]/),l=(t[0].split(".")[1]||"").length-+(t[1]||0);return l>0?l:0}function Rl(e){if(e.toString().indexOf("e")===-1)return Number(e.toString().replace(".",""));var t=Ke(e);return t>0?Gt(Number(e)*Math.pow(10,t)):Number(e)}function Dt(e){da&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)&&console.warn(e+" is beyond boundary when transfer to integer, the results may not be accurate")}function tt(e){return function(){for(var t=[],l=0;l<arguments.length;l++)t[l]=arguments[l];var n=t[0],r=t.slice(1);return r.reduce(function(o,a){return e(o,a)},n)}}var el=tt(function(e,t){var l=Rl(e),n=Rl(t),r=Ke(e)+Ke(t),o=l*n;return Dt(o),o/Math.pow(10,r)}),Qo=tt(function(e,t){var l=Math.pow(10,Math.max(Ke(e),Ke(t)));return(el(e,l)+el(t,l))/l}),eu=tt(function(e,t){var l=Math.pow(10,Math.max(Ke(e),Ke(t)));return(el(e,l)-el(t,l))/l}),sa=tt(function(e,t){var l=Rl(e),n=Rl(t);return Dt(l),Dt(n),el(l/n,Gt(Math.pow(10,Ke(t)-Ke(e))))});function lu(e,t){var l=Math.pow(10,t),n=sa(Math.round(Math.abs(el(e,l))),l);return e<0&&n!==0&&(n=el(n,-1)),n}var da=!0;function tu(e){e===void 0&&(e=!0),da=e}var Tt={strip:Gt,plus:Qo,minus:eu,times:el,divide:sa,round:lu,digitLength:Ke,float2Fixed:Rl,enableBoundaryChecking:tu};const nu=te({name:"IconPlus",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const l=re("icon"),n=v(()=>[l,`${l}-plus`,{[`${l}-spin`]:e.spin}]),r=v(()=>{const a={};return e.size&&(a.fontSize=ue(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:n,innerStyle:r,onClick:a=>{t("click",a)}}}}),au=["stroke-width","stroke-linecap","stroke-linejoin"];function ou(e,t,l,n,r,o){return le(),ge("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:de(e.cls),style:Me(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...a)=>e.onClick&&e.onClick(...a))},t[1]||(t[1]=[De("path",{d:"M5 24h38M24 5v38"},null,-1)]),14,au)}var wt=xe(nu,[["render",ou]]);const Ut=Object.assign(wt,{install:(e,t)=>{var l;const n=(l=t?.iconPrefix)!=null?l:"";e.component(n+wt.name,wt)}}),uu=te({name:"IconMinus",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const l=re("icon"),n=v(()=>[l,`${l}-minus`,{[`${l}-spin`]:e.spin}]),r=v(()=>{const a={};return e.size&&(a.fontSize=ue(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:n,innerStyle:r,onClick:a=>{t("click",a)}}}}),ru=["stroke-width","stroke-linecap","stroke-linejoin"];function iu(e,t,l,n,r,o){return le(),ge("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:de(e.cls),style:Me(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...a)=>e.onClick&&e.onClick(...a))},t[1]||(t[1]=[De("path",{d:"M5 24h38"},null,-1)]),14,ru)}var _t=xe(uu,[["render",iu]]);const Yt=Object.assign(_t,{install:(e,t)=>{var l;const n=(l=t?.iconPrefix)!=null?l:"";e.component(n+_t.name,_t)}}),su=800,du=150;Tt.enableBoundaryChecking(!1);var xt=te({name:"InputNumber",props:{modelValue:Number,defaultValue:Number,mode:{type:String,default:"embed"},precision:Number,step:{type:Number,default:1},disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},max:{type:Number,default:1/0},min:{type:Number,default:-1/0},formatter:{type:Function},parser:{type:Function},placeholder:String,hideButton:{type:Boolean,default:!1},size:{type:String},allowClear:{type:Boolean,default:!1},modelEvent:{type:String,default:"change"},readOnly:{type:Boolean,default:!1},inputAttrs:{type:Object}},emits:{"update:modelValue":e=>!0,change:(e,t)=>!0,focus:e=>!0,blur:e=>!0,clear:e=>!0,input:(e,t,l)=>!0,keydown:e=>!0},setup(e,{emit:t,slots:l}){var n;const{size:r,disabled:o}=ke(e),a=re("input-number"),i=R(),{mergedSize:f,mergedDisabled:g,eventHandlers:s}=sl({size:r,disabled:o}),{mergedSize:$}=hl(f),b=v(()=>{if(ue(e.precision)){const I=`${e.step}`.split(".")[1],M=I&&I.length||0;return Math.max(M,e.precision)}}),y=I=>{var M,J;if(!ue(I))return"";const se=b.value?I.toFixed(b.value):String(I);return(J=(M=e.formatter)==null?void 0:M.call(e,se))!=null?J:se},B=R(y((n=e.modelValue)!=null?n:e.defaultValue)),x=v(()=>{var I,M;if(!B.value)return;const J=Number((M=(I=e.parser)==null?void 0:I.call(e,B.value))!=null?M:B.value);return Number.isNaN(J)?void 0:J}),k=R(ue(x.value)&&x.value<=e.min),O=R(ue(x.value)&&x.value>=e.max);let S=0;const d=()=>{S&&(window.clearTimeout(S),S=0)},p=I=>{if(!Oe(I))return ue(e.min)&&I<e.min&&(I=e.min),ue(e.max)&&I>e.max&&(I=e.max),ue(b.value)?Tt.round(I,b.value):I},z=I=>{let M=!1,J=!1;ue(I)&&(I<=e.min&&(M=!0),I>=e.max&&(J=!0)),O.value!==J&&(O.value=J),k.value!==M&&(k.value=M)},m=()=>{const I=p(x.value),M=y(I);(I!==x.value||B.value!==M)&&(B.value=M),t("update:modelValue",I)};ve(()=>[e.max,e.min],()=>{m(),z(x.value)});const C=(I,M)=>{if(g.value||I==="plus"&&O.value||I==="minus"&&k.value)return;let J;ue(x.value)?J=p(Tt[I](x.value,e.step)):J=e.min===-1/0?0:e.min,B.value=y(J),z(J),t("update:modelValue",J),t("change",J,M)},F=(I,M,J=!1)=>{var se;I.preventDefault(),!e.readOnly&&((se=i.value)==null||se.focus(),C(M,I),J&&(S=window.setTimeout(()=>I.target.dispatchEvent(I),S?du:su)))},K=(I,M)=>{var J,se,we,ne;I=I.trim().replace(/。/g,"."),I=(se=(J=e.parser)==null?void 0:J.call(e,I))!=null?se:I,(ue(Number(I))||/^(\.|-)$/.test(I))&&(B.value=(ne=(we=e.formatter)==null?void 0:we.call(e,I))!=null?ne:I,z(x.value),t("input",x.value,B.value,M),e.modelEvent==="input"&&(t("update:modelValue",x.value),t("change",x.value,M)))},T=I=>{t("focus",I)},A=(I,M)=>{M instanceof MouseEvent&&!I||(m(),t("change",x.value,M))},G=I=>{t("blur",I)},U=I=>{var M,J;B.value="",t("update:modelValue",void 0),t("change",void 0,I),(J=(M=s.value)==null?void 0:M.onChange)==null||J.call(M,I),t("clear",I)},Y=oa(new Map([[vl.ARROW_UP,I=>{I.preventDefault(),!e.readOnly&&C("plus",I)}],[vl.ARROW_DOWN,I=>{I.preventDefault(),!e.readOnly&&C("minus",I)}]])),X=I=>{t("keydown",I),I.defaultPrevented||Y(I)};ve(()=>e.modelValue,I=>{I!==x.value&&(B.value=y(I),z(I))});const H=()=>{var I,M,J;return e.readOnly?null:c(Ve,null,[l.suffix&&c("div",{class:`${a}-suffix`},[(I=l.suffix)==null?void 0:I.call(l)]),c("div",{class:`${a}-step`},[c("button",{class:[`${a}-step-button`,{[`${a}-step-button-disabled`]:g.value||O.value}],type:"button",tabindex:"-1",disabled:g.value||O.value,onMousedown:se=>F(se,"plus",!0),onMouseup:d,onMouseleave:d},[l.plus?(M=l.plus)==null?void 0:M.call(l):c(Xo,null,null)]),c("button",{class:[`${a}-step-button`,{[`${a}-step-button-disabled`]:g.value||k.value}],type:"button",tabindex:"-1",disabled:g.value||k.value,onMousedown:se=>F(se,"minus",!0),onMouseup:d,onMouseleave:d},[l.minus?(J=l.minus)==null?void 0:J.call(l):c(Yn,null,null)])])])},P=v(()=>[a,`${a}-mode-${e.mode}`,`${a}-size-${$.value}`,{[`${a}-readonly`]:e.readOnly}]),D=()=>c(Jl,{size:$.value,tabindex:"-1",class:`${a}-step-button`,disabled:g.value||k.value,onMousedown:I=>F(I,"minus",!0),onMouseup:d,onMouseleave:d},{icon:()=>c(Yt,null,null)}),Q=()=>c(Jl,{size:$.value,tabindex:"-1",class:`${a}-step-button`,disabled:g.value||O.value,onMousedown:I=>F(I,"plus",!0),onMouseup:d,onMouseleave:d},{icon:()=>c(Ut,null,null)});return{inputRef:i,render:()=>{const I=e.mode==="embed"?{prepend:l.prepend,prefix:l.prefix,suffix:e.hideButton?l.suffix:H,append:l.append}:{prepend:e.hideButton?l.prepend:D,prefix:l.prefix,suffix:l.suffix,append:e.hideButton?l.append:Q};return c(yo,{key:`__arco__${e.mode}`,ref:i,class:P.value,type:"text",allowClear:e.allowClear,size:$.value,modelValue:B.value,placeholder:e.placeholder,disabled:g.value,readonly:e.readOnly,error:e.error,inputAttrs:{role:"spinbutton","aria-valuemax":e.max,"aria-valuemin":e.min,"aria-valuenow":B.value,...e.inputAttrs},onInput:K,onFocus:T,onBlur:G,onClear:U,onChange:A,onKeydown:X},I)}}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}});const cu=Object.assign(xt,{install:(e,t)=>{rl(e,t);const l=il(t);e.component(l+xt.name,xt)}}),vu=te({name:"Pager",props:{pageNumber:{type:Number},current:{type:Number},disabled:{type:Boolean,default:!1},style:{type:Object},activeStyle:{type:Object}},emits:["click"],setup(e,{emit:t}){const l=re("pagination-item"),n=v(()=>e.current===e.pageNumber),r=i=>{e.disabled||t("click",e.pageNumber,i)},o=v(()=>[l,{[`${l}-active`]:n.value}]),a=v(()=>n.value?e.activeStyle:e.style);return{prefixCls:l,cls:o,mergedStyle:a,handleClick:r}}});function fu(e,t,l,n,r,o){return le(),ge("li",{class:de(e.cls),style:Me(e.mergedStyle),onClick:t[0]||(t[0]=(...a)=>e.handleClick&&e.handleClick(...a))},[$e(e.$slots,"default",{page:e.pageNumber},()=>[Ol(ml(e.pageNumber),1)])],6)}var mu=xe(vu,[["render",fu]]);const ca=(e,{min:t,max:l})=>e<t?t:e>l?l:e,gu=te({name:"StepPager",components:{IconLeft:co,IconRight:so},props:{pages:{type:Number,required:!0},current:{type:Number,required:!0},type:{type:String,required:!0},disabled:{type:Boolean,default:!1},simple:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t}){const l=re("pagination-item"),n=e.type==="next",r=v(()=>e.disabled?e.disabled:!e.pages||n&&e.current===e.pages?!0:!n&&e.current<=1),o=v(()=>ca(e.current+(n?1:-1),{min:1,max:e.pages})),a=f=>{r.value||t("click",o.value)},i=v(()=>[l,`${l}-${e.type}`,{[`${l}-disabled`]:r.value}]);return{prefixCls:l,cls:i,isNext:n,handleClick:a}}});function hu(e,t,l,n,r,o){const a=Ue("icon-right"),i=Ue("icon-left");return le(),Re(ul(e.simple?"span":"li"),{class:de(e.cls),onClick:e.handleClick},{default:Qe(()=>[$e(e.$slots,"default",{type:e.isNext?"next":"previous"},()=>[e.isNext?(le(),Re(a,{key:0})):(le(),Re(i,{key:1}))])]),_:3},8,["class","onClick"])}var Pn=xe(gu,[["render",hu]]);const yu=te({name:"EllipsisPager",components:{IconMore:vo},props:{current:{type:Number,required:!0},step:{type:Number,default:5},pages:{type:Number,required:!0}},emits:["click"],setup(e,{emit:t}){const l=re("pagination-item"),n=v(()=>ca(e.current+e.step,{min:1,max:e.pages})),r=a=>{t("click",n.value)},o=v(()=>[l,`${l}-ellipsis`]);return{prefixCls:l,cls:o,handleClick:r}}});function pu(e,t,l,n,r,o){const a=Ue("icon-more");return le(),ge("li",{class:de(e.cls),onClick:t[0]||(t[0]=(...i)=>e.handleClick&&e.handleClick(...i))},[$e(e.$slots,"default",{},()=>[c(a)])],2)}var bu=xe(yu,[["render",pu]]);const Cu=te({name:"PageJumper",components:{InputNumber:cu},props:{current:{type:Number,required:!0},simple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},pages:{type:Number,required:!0},size:{type:String},onChange:{type:Function}},emits:["change"],setup(e,{emit:t}){const l=re("pagination-jumper"),{t:n}=et(),r=R(e.simple?e.current:void 0),o=f=>{const g=parseInt(f.toString(),10);return Number.isNaN(g)?void 0:String(g)},a=f=>{t("change",r.value),Te(()=>{e.simple||(r.value=void 0)})};ve(()=>e.current,f=>{e.simple&&f!==r.value&&(r.value=f)});const i=v(()=>[l,{[`${l}-simple`]:e.simple}]);return{prefixCls:l,cls:i,t:n,inputValue:r,handleChange:a,handleFormatter:o}}});function Su(e,t,l,n,r,o){const a=Ue("input-number");return le(),ge("span",{class:de(e.cls)},[e.simple?Le("v-if",!0):(le(),ge("span",{key:0,class:de([`${e.prefixCls}-prepend`,`${e.prefixCls}-text-goto`])},[$e(e.$slots,"jumper-prepend",{},()=>[Ol(ml(e.t("pagination.goto")),1)])],2)),c(a,{modelValue:e.inputValue,"onUpdate:modelValue":t[0]||(t[0]=i=>e.inputValue=i),class:de(`${e.prefixCls}-input`),min:1,max:e.pages,size:e.size,disabled:e.disabled,"hide-button":"",formatter:e.handleFormatter,onChange:e.handleChange},null,8,["modelValue","class","max","size","disabled","formatter","onChange"]),e.$slots["jumper-append"]?(le(),ge("span",{key:1,class:de(`${e.prefixCls}-append`)},[$e(e.$slots,"jumper-append")],2)):Le("v-if",!0),e.simple?(le(),ge(Ve,{key:2},[De("span",{class:de(`${e.prefixCls}-separator`)},"/",2),De("span",{class:de(`${e.prefixCls}-total-page`)},ml(e.pages),3)],64)):Le("v-if",!0)],2)}var Fn=xe(Cu,[["render",Su]]);const $u=te({name:"PageOptions",components:{ArcoSelect:Uo},props:{sizeOptions:{type:Array,required:!0},pageSize:Number,disabled:Boolean,size:{type:String},onChange:{type:Function},selectProps:{type:Object}},emits:["change"],setup(e,{emit:t}){const l=re("pagination-options"),{t:n}=et(),r=v(()=>e.sizeOptions.map(a=>({value:a,label:`${a} ${n("pagination.countPerPage")}`})));return{prefixCls:l,options:r,handleChange:a=>{t("change",a)}}}});function wu(e,t,l,n,r,o){const a=Ue("arco-select");return le(),ge("span",{class:de(e.prefixCls)},[c(a,me({"model-value":e.pageSize,options:e.options,size:e.size,disabled:e.disabled},e.selectProps,{onChange:e.handleChange}),null,16,["model-value","options","size","disabled","onChange"])],2)}var _u=xe($u,[["render",wu]]),kt=te({name:"Pagination",props:{total:{type:Number,required:!0},current:Number,defaultCurrent:{type:Number,default:1},pageSize:Number,defaultPageSize:{type:Number,default:10},disabled:{type:Boolean,default:!1},hideOnSinglePage:{type:Boolean,default:!1},simple:{type:Boolean,default:!1},showTotal:{type:Boolean,default:!1},showMore:{type:Boolean,default:!1},showJumper:{type:Boolean,default:!1},showPageSize:{type:Boolean,default:!1},pageSizeOptions:{type:Array,default:()=>[10,20,30,40,50]},pageSizeProps:{type:Object},size:{type:String},pageItemStyle:{type:Object},activePageItemStyle:{type:Object},baseSize:{type:Number,default:6},bufferSize:{type:Number,default:2},autoAdjust:{type:Boolean,default:!0}},emits:{"update:current":e=>!0,"update:pageSize":e=>!0,change:e=>!0,pageSizeChange:e=>!0},setup(e,{emit:t,slots:l}){const n=re("pagination"),{t:r}=et(),{disabled:o,pageItemStyle:a,activePageItemStyle:i,size:f}=ke(e),{mergedSize:g}=hl(f),s=R(e.defaultCurrent),$=R(e.defaultPageSize),b=v(()=>{var m;return(m=e.current)!=null?m:s.value}),y=v(()=>{var m;return(m=e.pageSize)!=null?m:$.value}),B=v(()=>Math.ceil(e.total/y.value)),x=m=>{m!==b.value&&ue(m)&&!e.disabled&&(s.value=m,t("update:current",m),t("change",m))},k=m=>{$.value=m,t("update:pageSize",m),t("pageSizeChange",m)},O=Be({current:b,pages:B,disabled:o,style:a,activeStyle:i,onClick:x}),S=(m,C={})=>m==="more"?c(bu,me(C,O),{default:l["page-item-ellipsis"]}):m==="previous"?c(Pn,me({type:"previous"},C,O),{default:l["page-item-step"]}):m==="next"?c(Pn,me({type:"next"},C,O),{default:l["page-item-step"]}):c(mu,me(C,O),{default:l["page-item"]}),d=v(()=>{const m=[];if(B.value<e.baseSize+e.bufferSize*2)for(let C=1;C<=B.value;C++)m.push(S("page",{key:C,pageNumber:C}));else{let C=1,F=B.value,K=!1,T=!1;b.value>2+e.bufferSize&&(K=!0,C=Math.min(b.value-e.bufferSize,B.value-2*e.bufferSize)),b.value<B.value-(e.bufferSize+1)&&(T=!0,F=Math.max(b.value+e.bufferSize,2*e.bufferSize+1)),K&&(m.push(S("page",{key:1,pageNumber:1})),m.push(S("more",{key:"left-ellipsis-pager",step:-(e.bufferSize*2+1)})));for(let A=C;A<=F;A++)m.push(S("page",{key:A,pageNumber:A}));T&&(m.push(S("more",{key:"right-ellipsis-pager",step:e.bufferSize*2+1})),m.push(S("page",{key:B.value,pageNumber:B.value})))}return m}),p=()=>e.simple?c("span",{class:`${n}-simple`},[S("previous",{simple:!0}),c(Fn,{disabled:e.disabled,current:b.value,size:g.value,pages:B.value,simple:!0,onChange:x},null),S("next",{simple:!0})]):c("ul",{class:`${n}-list`},[S("previous",{simple:!0}),d.value,e.showMore&&S("more",{key:"more",step:e.bufferSize*2+1}),S("next",{simple:!0})]);ve(y,(m,C)=>{if(e.autoAdjust&&m!==C&&b.value>1){const F=C*(b.value-1)+1,K=Math.ceil(F/m);K!==b.value&&(s.value=K,t("update:current",K),t("change",K))}}),ve(B,(m,C)=>{if(e.autoAdjust&&m!==C&&b.value>1&&b.value>m){const F=Math.max(m,1);s.value=F,t("update:current",F),t("change",F)}});const z=v(()=>[n,`${n}-size-${g.value}`,{[`${n}-simple`]:e.simple,[`${n}-disabled`]:e.disabled}]);return()=>{var m,C;return e.hideOnSinglePage&&B.value<=1?null:c("div",{class:z.value},[e.showTotal&&c("span",{class:`${n}-total`},[(C=(m=l.total)==null?void 0:m.call(l,{total:e.total}))!=null?C:r("pagination.total",e.total)]),p(),e.showPageSize&&c(_u,{disabled:e.disabled,sizeOptions:e.pageSizeOptions,pageSize:y.value,size:g.value,onChange:k,selectProps:e.pageSizeProps},null),!e.simple&&e.showJumper&&c(Fn,{disabled:e.disabled,current:b.value,pages:B.value,size:g.value,onChange:x},{"jumper-prepend":l["jumper-prepend"],"jumper-append":l["jumper-append"]})])}}});const xu=Object.assign(kt,{install:(e,t)=>{rl(e,t);const l=il(t);e.component(l+kt.name,kt)}}),ku=e=>{let t=0;const l=n=>{if(dl(n)&&n.length>0)for(const r of n)r.children?l(r.children):t+=1};return l(e),t},va=e=>{let t=0;if(dl(e)&&e.length>0){t=1;for(const l of e)if(l.children){const n=va(l.children);n>0&&(t=Math.max(t,n+1))}}return t},En=(e,t)=>{let{parent:l}=e;for(;l;)l.fixed===t&&(t==="left"?l.isLastLeftFixed=!0:l.isFirstRightFixed=!0),l=l.parent},Iu=(e,t,l)=>{const n=va(e);t.clear();const r=[],o=[...Array(n)].map(()=>[]);let a,i;const f=(g,{level:s=0,parent:$,fixed:b}={})=>{var y;for(const B of g){const x={...B,parent:$};if(dl(x.children)){const k=ku(x.children);k>1&&(x.colSpan=k),o[s].push(x),f(x.children,{level:s+1,parent:x,fixed:x.fixed})}else{const k=n-s;k>1&&(x.rowSpan=k),(b||x.fixed)&&(x.fixed=(y=x.fixed)!=null?y:b,x.fixed==="left"?a=r.length:Oe(i)&&(i=r.length)),(Oe(x.dataIndex)||yl(x.dataIndex))&&(x.dataIndex=`__arco_data_index_${r.length}`),l[x.dataIndex]&&(x._resizeWidth=l[x.dataIndex]),t.set(x.dataIndex,x),r.push(x),o[s].push(x)}}};return f(e),Oe(a)||(r[a].isLastLeftFixed=!0,En(r[a],"left")),Oe(i)||(r[i].isFirstRightFixed=!0,En(r[i],"right")),{dataColumns:r,groupColumns:o}},Bu=(e,t)=>{for(let l=0;l<e.length;l++)if(e[l].name===t)return l;return-1},zu=(e,t)=>{var l;const n=Bu(t,e.name);if(n<=0)return 0;let r=0;const o=t.slice(0,n);for(const a of o)r+=(l=a.width)!=null?l:0;return r},Jt=e=>e.children&&e.children.length>0?Jt(e.children[0]):e,Ou=e=>e.children&&e.children.length>0?Jt(e.children[e.children.length-1]):e,Vu=(e,{dataColumns:t,operations:l})=>{var n,r,o;let a=0;if(e.fixed==="left"){for(const g of l)a+=(n=g.width)!=null?n:40;const f=Jt(e);for(const g of t){if(f.dataIndex===g.dataIndex)break;a+=(o=(r=g._resizeWidth)!=null?r:g.width)!=null?o:0}return a}const i=Ou(e);for(let f=t.length-1;f>0;f--){const g=t[f];if(i.dataIndex===g.dataIndex)break;g.fixed==="right"&&(a+=g.width)}return a},fa=(e,t)=>t.fixed?[`${e}-col-fixed-left`,{[`${e}-col-fixed-left-last`]:t.isLastLeftFixed}]:[],ma=(e,t)=>t.fixed==="left"?[`${e}-col-fixed-left`,{[`${e}-col-fixed-left-last`]:t.isLastLeftFixed}]:t.fixed==="right"?[`${e}-col-fixed-right`,{[`${e}-col-fixed-right-first`]:t.isFirstRightFixed}]:[],ga=(e,{dataColumns:t,operations:l})=>{if(e.fixed){const n=`${Vu(e,{dataColumns:t,operations:l})}px`;return e.fixed==="left"?{left:n}:{right:n}}return{}},ha=(e,t)=>e.fixed?{left:`${zu(e,t)}px`}:{};function ya(e){return e.map(t=>{const l={...t};return l.children&&(l.children=ya(l.children)),l})}function pa(e){return e.map(t=>{const l=t.raw;return t.children&&l.children&&(l.children=pa(t.children)),t.raw})}const Zt=e=>{const t=[];if(e.children)for(const l of e.children)l.isLeaf?t.push(l.key):t.push(...Zt(l));return t},Ru=(e,t)=>{let l=!1,n=!1;const r=t.filter(o=>e.includes(o));return r.length>0&&(r.length>=t.length?l=!0:n=!0),{checked:l,indeterminate:n}},Bl=(e,t,l=!1)=>l?e.filter(n=>!t.includes(n)):Array.from(new Set(e.concat(t))),Pu=({selectedKeys:e,defaultSelectedKeys:t,rowSelection:l,currentAllRowKeys:n,currentAllEnabledRowKeys:r,emit:o})=>{var a,i,f;const g=v(()=>{var d;return((d=l.value)==null?void 0:d.type)==="radio"}),s=R((f=(i=t.value)!=null?i:(a=l.value)==null?void 0:a.defaultSelectedRowKeys)!=null?f:[]),$=v(()=>{var d,p,z;return(z=(p=e.value)!=null?p:(d=l.value)==null?void 0:d.selectedRowKeys)!=null?z:s.value}),b=v(()=>$.value.filter(d=>n.value.includes(d)));return{isRadio:g,selectedRowKeys:$,currentSelectedRowKeys:b,handleSelectAll:d=>{const p=Bl($.value,r.value,!d);s.value=p,o("selectAll",d),o("selectionChange",p),o("update:selectedKeys",p)},handleSelect:(d,p)=>{const z=g.value?[p.key]:Bl($.value,[p.key],!d);s.value=z,o("select",z,p.key,p.raw),o("selectionChange",z),o("update:selectedKeys",z)},handleSelectAllLeafs:(d,p)=>{const z=Bl($.value,Zt(d),!p);s.value=z,o("select",z,d.key,d.raw),o("selectionChange",z),o("update:selectedKeys",z)},select:(d,p=!0)=>{const z=[].concat(d),m=g.value?z:Bl($.value,z,!p);s.value=m,o("selectionChange",m),o("update:selectedKeys",m)},selectAll:(d=!0)=>{const p=Bl($.value,r.value,!d);s.value=p,o("selectionChange",p),o("update:selectedKeys",p)},clearSelected:()=>{s.value=[],o("selectionChange",[]),o("update:selectedKeys",[])}}},Fu=({expandedKeys:e,defaultExpandedKeys:t,defaultExpandAllRows:l,expandable:n,allRowKeys:r,emit:o})=>{const i=R((()=>{var b,y;return t.value?t.value:(b=n.value)!=null&&b.defaultExpandedRowKeys?n.value.defaultExpandedRowKeys:l.value||(y=n.value)!=null&&y.defaultExpandAllRows?[...r.value]:[]})()),f=v(()=>{var b,y,B;return(B=(y=e.value)!=null?y:(b=n.value)==null?void 0:b.expandedRowKeys)!=null?B:i.value});return{expandedRowKeys:f,handleExpand:(b,y)=>{const x=f.value.includes(b)?f.value.filter(k=>b!==k):f.value.concat(b);i.value=x,o("expand",b,y),o("expandedChange",x),o("update:expandedKeys",x)},expand:(b,y=!0)=>{const B=[].concat(b),x=y?f.value.concat(B):f.value.filter(k=>!B.includes(k));i.value=x,o("expandedChange",x),o("update:expandedKeys",x)},expandAll:(b=!0)=>{const y=b?[...r.value]:[];i.value=y,o("expandedChange",y),o("update:expandedKeys",y)}}},Eu=(e,t)=>{var l,n;const r=R(pe(e.pagination)&&(l=e.pagination.defaultCurrent)!=null?l:1),o=R(pe(e.pagination)&&(n=e.pagination.defaultPageSize)!=null?n:10),a=v(()=>{var s;return pe(e.pagination)&&(s=e.pagination.pageSize)!=null?s:o.value});return{page:v(()=>{var s;return pe(e.pagination)&&(s=e.pagination.current)!=null?s:r.value}),pageSize:a,handlePageChange:s=>{r.value=s,t("pageChange",s)},handlePageSizeChange:s=>{o.value=s,t("pageSizeChange",s)}}},Nu=te({name:"ColGroup",props:{dataColumns:{type:Array,required:!0},operations:{type:Array,required:!0},columnWidth:{type:Object}},setup(){return{fixedWidth:(t,l)=>{if(t){const n=Math.max(t,l||0);return{width:`${t}px`,minWidth:`${n}px`,maxWidth:`${t}px`}}if(l)return{minWidth:`${l}px`}}}}});function Au(e,t,l,n,r,o){return le(),ge("colgroup",null,[(le(!0),ge(Ve,null,Ft(e.operations,a=>(le(),ge("col",{key:`arco-col-${a.name}`,class:de(`arco-table-${a.name}-col`),style:Me(e.fixedWidth(a.width))},null,6))),128)),(le(!0),ge(Ve,null,Ft(e.dataColumns,a=>(le(),ge("col",{key:`arco-col-${a.dataIndex}`,style:Me(e.fixedWidth(e.columnWidth&&a.dataIndex&&e.columnWidth[a.dataIndex]||a.width,a.minWidth))},null,4))),128))])}var Dl=xe(Nu,[["render",Au]]),Hl=te({name:"Thead",setup(e,{slots:t}){return()=>{var l,n;return c((n=(l=t.thead)==null?void 0:l.call(t)[0])!=null?n:"thead",null,{default:t.default})}}}),ql=te({name:"Tbody",setup(e,{slots:t}){return()=>{var l,n;return c((n=(l=t.tbody)==null?void 0:l.call(t)[0])!=null?n:"tbody",null,{default:t.default})}}}),Xe=te({name:"Tr",props:{expand:{type:Boolean},empty:{type:Boolean},checked:{type:Boolean},rowIndex:Number,record:{type:Object,default:()=>({})}},setup(e,{slots:t}){const l=re("table"),n=v(()=>[`${l}-tr`,{[`${l}-tr-expand`]:e.expand,[`${l}-tr-empty`]:e.empty,[`${l}-tr-checked`]:e.checked}]);return()=>{var r,o,a;return c((a=(o=t.tr)==null?void 0:o.call(t,{rowIndex:e.rowIndex,record:(r=e.record)==null?void 0:r.raw})[0])!=null?a:"tr",{class:n.value},{default:t.default})}}});const ju=te({name:"IconCaretDown",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const l=re("icon"),n=v(()=>[l,`${l}-caret-down`,{[`${l}-spin`]:e.spin}]),r=v(()=>{const a={};return e.size&&(a.fontSize=ue(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:n,innerStyle:r,onClick:a=>{t("click",a)}}}}),Lu=["stroke-width","stroke-linecap","stroke-linejoin"];function Du(e,t,l,n,r,o){return le(),ge("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:de(e.cls),style:Me(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...a)=>e.onClick&&e.onClick(...a))},t[1]||(t[1]=[De("path",{d:"M24.938 34.829a1.2 1.2 0 0 1-1.875 0L9.56 17.949c-.628-.785-.069-1.949.937-1.949h27.007c1.006 0 1.565 1.164.937 1.95L24.937 34.829Z",fill:"currentColor",stroke:"none"},null,-1)]),14,Lu)}var It=xe(ju,[["render",Du]]);const Tu=Object.assign(It,{install:(e,t)=>{var l;const n=(l=t?.iconPrefix)!=null?l:"";e.component(n+It.name,It)}}),Mu=te({name:"IconCaretUp",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const l=re("icon"),n=v(()=>[l,`${l}-caret-up`,{[`${l}-spin`]:e.spin}]),r=v(()=>{const a={};return e.size&&(a.fontSize=ue(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:n,innerStyle:r,onClick:a=>{t("click",a)}}}}),Ku=["stroke-width","stroke-linecap","stroke-linejoin"];function Wu(e,t,l,n,r,o){return le(),ge("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:de(e.cls),style:Me(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...a)=>e.onClick&&e.onClick(...a))},t[1]||(t[1]=[De("path",{d:"M23.063 13.171a1.2 1.2 0 0 1 1.875 0l13.503 16.88c.628.785.069 1.949-.937 1.949H10.497c-1.006 0-1.565-1.164-.937-1.95l13.503-16.879Z",fill:"currentColor",stroke:"none"},null,-1)]),14,Ku)}var Bt=xe(Mu,[["render",Wu]]);const Hu=Object.assign(Bt,{install:(e,t)=>{var l;const n=(l=t?.iconPrefix)!=null?l:"";e.component(n+Bt.name,Bt)}}),qu=te({name:"IconFilter",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const l=re("icon"),n=v(()=>[l,`${l}-filter`,{[`${l}-spin`]:e.spin}]),r=v(()=>{const a={};return e.size&&(a.fontSize=ue(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:n,innerStyle:r,onClick:a=>{t("click",a)}}}}),Gu=["stroke-width","stroke-linecap","stroke-linejoin"];function Uu(e,t,l,n,r,o){return le(),ge("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:de(e.cls),style:Me(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...a)=>e.onClick&&e.onClick(...a))},t[1]||(t[1]=[De("path",{d:"M30 42V22.549a1 1 0 0 1 .463-.844l10.074-6.41A1 1 0 0 0 41 14.45V8a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v6.451a1 1 0 0 0 .463.844l10.074 6.41a1 1 0 0 1 .463.844V37"},null,-1)]),14,Gu)}var zt=xe(qu,[["render",Uu]]);const Yu=Object.assign(zt,{install:(e,t)=>{var l;const n=(l=t?.iconPrefix)!=null?l:"";e.component(n+zt.name,zt)}}),Ju=({column:e,tableCtx:t})=>{const l=v(()=>{var g;if(e.value.dataIndex&&e.value.dataIndex===((g=t.sorter)==null?void 0:g.field))return t.sorter.direction}),n=v(()=>{var g,s,$;return($=(s=(g=e.value)==null?void 0:g.sortable)==null?void 0:s.sortDirections)!=null?$:[]}),r=v(()=>n.value.length>0),o=v(()=>n.value.includes("ascend")),a=v(()=>n.value.includes("descend")),i=v(()=>{var g,s;return l.value?l.value===n.value[0]&&(s=n.value[1])!=null?s:"":(g=n.value[0])!=null?g:""});return{sortOrder:l,hasSorter:r,hasAscendBtn:o,hasDescendBtn:a,nextSortOrder:i,handleClickSorter:g=>{var s;e.value.dataIndex&&((s=t.onSorterChange)==null||s.call(t,e.value.dataIndex,i.value,g))}}},Zu=({column:e,tableCtx:t})=>{const l=v(()=>{var y;return e.value.dataIndex&&((y=t.filters)!=null&&y[e.value.dataIndex])?t.filters[e.value.dataIndex]:[]}),n=R(!1),r=v(()=>l.value.length>0),o=v(()=>{var y;return!!((y=e.value.filterable)!=null&&y.multiple)}),a=R(l.value);ve(l,y=>{dl(y)&&String(y)!==String(a.value)&&(a.value=y)});const i=y=>{n.value=y},f=y=>{a.value=y};return{filterPopupVisible:n,isFilterActive:r,isMultipleFilter:o,columnFilterValue:a,handleFilterPopupVisibleChange:i,setFilterValue:f,handleCheckboxFilterChange:y=>{f(y)},handleRadioFilterChange:y=>{f([y])},handleFilterConfirm:y=>{var B;e.value.dataIndex&&((B=t.onFilterChange)==null||B.call(t,e.value.dataIndex,a.value,y)),i(!1)},handleFilterReset:y=>{var B;f([]),e.value.dataIndex&&((B=t.onFilterChange)==null||B.call(t,e.value.dataIndex,a.value,y)),i(!1)}}},bl=Symbol("ArcoTable"),Nn=Symbol("ArcoTableColumn");function An(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Pl(e)}var ba=te({name:"AutoTooltip",inheritAttrs:!1,props:{tooltipProps:{type:Object}},setup(e,{attrs:t,slots:l}){const n=re("auto-tooltip"),r=R(),o=R(),a=R(""),i=R(!1),f=()=>{if(r.value&&o.value){const b=o.value.offsetWidth>r.value.offsetWidth;b!==i.value&&(i.value=b)}},g=()=>{var b;(b=o.value)!=null&&b.textContent&&o.value.textContent!==a.value&&(a.value=o.value.textContent)},s=()=>{g(),f()};ll(()=>{g(),f()}),Kt(()=>{g(),f()});const $=()=>c("span",me({ref:r,class:n},t),[c(In,{onResize:s},{default:()=>{var b;return[c("span",{ref:o,class:`${n}-content`},[(b=l.default)==null?void 0:b.call(l)])]}})]);return()=>{let b;if(i.value){let y;return c(fo,me({content:a.value,onResize:s},e.tooltipProps),An(y=$())?y:{default:()=>[y]})}return c(In,{onResize:s},An(b=$())?b:{default:()=>[b]})}}});function Ot(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Pl(e)}var Gl=te({name:"Th",props:{column:{type:Object,default:()=>({})},operations:{type:Array,default:()=>[]},dataColumns:{type:Array,default:()=>[]},resizable:Boolean},setup(e,{slots:t}){const{column:l}=ke(e),n=re("table"),{t:r}=et(),o=Pe(bl,{}),a=v(()=>{var P;return((P=e.column)==null?void 0:P.dataIndex)&&o.resizingColumn===e.column.dataIndex}),i=v(()=>{var P;if(pe((P=e.column)==null?void 0:P.tooltip))return e.column.tooltip}),f=v(()=>{var P;return(P=e.column)!=null&&P.filterable&&Zl(e.column.filterable.alignLeft)?e.column.filterable.alignLeft:o.filterIconAlignLeft}),{sortOrder:g,hasSorter:s,hasAscendBtn:$,hasDescendBtn:b,nextSortOrder:y,handleClickSorter:B}=Ju({column:l,tableCtx:o}),{filterPopupVisible:x,isFilterActive:k,isMultipleFilter:O,columnFilterValue:S,handleFilterPopupVisibleChange:d,setFilterValue:p,handleCheckboxFilterChange:z,handleRadioFilterChange:m,handleFilterConfirm:C,handleFilterReset:F}=Zu({column:l,tableCtx:o}),K=()=>{var P,D,Q,ae,I;let M,J;const{filterable:se}=e.column;return(P=e.column.slots)!=null&&P["filter-content"]?(D=e.column.slots)==null?void 0:D["filter-content"]({filterValue:S.value,setFilterValue:p,handleFilterConfirm:C,handleFilterReset:F}):se?.slotName?(ae=(Q=o?.slots)==null?void 0:Q[se?.slotName])==null?void 0:ae.call(Q,{filterValue:S.value,setFilterValue:p,handleFilterConfirm:C,handleFilterReset:F}):se?.renderContent?se.renderContent({filterValue:S.value,setFilterValue:p,handleFilterConfirm:C,handleFilterReset:F}):c("div",{class:`${n}-filters-content`},[c("ul",{class:`${n}-filters-list`},[(I=se?.filters)==null?void 0:I.map((we,ne)=>{var Ee;return c("li",{class:`${n}-filters-item`,key:ne},[O.value?c(fl,{value:we.value,modelValue:S.value,uninjectGroupContext:!0,onChange:z},{default:()=>[we.text]}):c(Lt,{value:we.value,modelValue:(Ee=S.value[0])!=null?Ee:"",uninjectGroupContext:!0,onChange:m},{default:()=>[we.text]})])})]),c("div",{class:`${n}-filters-bottom`},[c(Jl,{size:"mini",onClick:F},Ot(M=r("table.resetText"))?M:{default:()=>[M]}),c(Jl,{type:"primary",size:"mini",onClick:C},Ot(J=r("table.okText"))?J:{default:()=>[J]})])])},T=()=>{const{filterable:P}=e.column;return P?c(Nt,me({popupVisible:x.value,trigger:"click",autoFitPosition:!0,popupOffset:f.value?4:0,onPopupVisibleChange:d},P.triggerProps),{default:()=>[c(Ql,{class:[`${n}-filters`,{[`${n}-filters-active`]:k.value,[`${n}-filters-open`]:x.value,[`${n}-filters-align-left`]:f.value}],disabled:!f.value,onClick:D=>D.stopPropagation()},{default:()=>{var D,Q,ae,I,M;return[(M=(I=(Q=(D=e.column.slots)==null?void 0:D["filter-icon"])==null?void 0:Q.call(D))!=null?I:(ae=P.icon)==null?void 0:ae.call(P))!=null?M:c(Yu,null,null)]}})],content:K}):null},A=v(()=>{var P,D;const Q=[`${n}-cell`,`${n}-cell-align-${(D=(P=e.column)==null?void 0:P.align)!=null?D:e.column.children?"center":"left"}`];return s.value&&Q.push(`${n}-cell-with-sorter`,{[`${n}-cell-next-ascend`]:y.value==="ascend",[`${n}-cell-next-descend`]:y.value==="descend"}),f.value&&Q.push(`${n}-cell-with-filter`),Q}),G=()=>{var P,D,Q,ae,I,M;return t.default?t.default():(P=e.column)!=null&&P.titleSlotName&&((D=o.slots)!=null&&D[e.column.titleSlotName])?(ae=(Q=o.slots)[e.column.titleSlotName])==null?void 0:ae.call(Q,{column:e.column}):(M=(I=e.column)==null?void 0:I.slots)!=null&&M.title?e.column.slots.title():ye(e.column.title)?e.column.title():e.column.title},U=()=>{var P,D,Q;let ae;return c("span",{class:A.value,onClick:s.value?B:void 0},[(P=e.column)!=null&&P.ellipsis&&((D=e.column)!=null&&D.tooltip)?c(ba,{class:`${n}-th-title`,tooltipProps:i.value},Ot(ae=G())?ae:{default:()=>[ae]}):c("span",{class:[`${n}-th-title`,{[`${n}-text-ellipsis`]:(Q=e.column)==null?void 0:Q.ellipsis}]},[G()]),s.value&&c("span",{class:`${n}-sorter`},[$.value&&c("div",{class:[`${n}-sorter-icon`,{[`${n}-sorter-icon-active`]:g.value==="ascend"}]},[c(Hu,null,null)]),b.value&&c("div",{class:[`${n}-sorter-icon`,{[`${n}-sorter-icon-active`]:g.value==="descend"}]},[c(Tu,null,null)])]),f.value&&T()])},Y=v(()=>{var P,D;return{...ga(e.column,{dataColumns:e.dataColumns,operations:e.operations}),...(P=e.column)==null?void 0:P.cellStyle,...(D=e.column)==null?void 0:D.headerCellStyle}}),X=v(()=>{var P,D;return[`${n}-th`,{[`${n}-col-sorted`]:!!g.value,[`${n}-th-resizing`]:a.value},...ma(n,e.column),(P=e.column)==null?void 0:P.cellClass,(D=e.column)==null?void 0:D.headerCellClass]}),H=P=>{var D,Q,ae;(D=e.column)!=null&&D.dataIndex&&((ae=o.onThMouseDown)==null||ae.call(o,(Q=e.column)==null?void 0:Q.dataIndex,P))};return()=>{var P,D,Q,ae;const I=(P=e.column.colSpan)!=null?P:1,M=(D=e.column.rowSpan)!=null?D:1;return c((ae=(Q=t.th)==null?void 0:Q.call(t,{column:e.column})[0])!=null?ae:"th",{class:X.value,style:Y.value,colspan:I>1?I:void 0,rowspan:M>1?M:void 0},{default:()=>[U(),!f.value&&T(),e.resizable&&c("span",{class:`${n}-column-handle`,onMousedown:H},null)]})}}});function Xu(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Pl(e)}var ol=te({name:"Td",props:{rowIndex:Number,record:{type:Object,default:()=>({})},column:{type:Object,default:()=>({})},type:{type:String,default:"normal"},operations:{type:Array,default:()=>[]},dataColumns:{type:Array,default:()=>[]},colSpan:{type:Number,default:1},rowSpan:{type:Number,default:1},isFixedExpand:{type:Boolean,default:!1},containerWidth:{type:Number},showExpandBtn:{type:Boolean,default:!1},indentSize:{type:Number,default:0},renderExpandBtn:{type:Function},summary:{type:Boolean,default:!1}},setup(e,{slots:t}){const l=re("table"),n=v(()=>{var k;if(pe((k=e.column)==null?void 0:k.tooltip))return e.column.tooltip}),r=v(()=>{var k,O;return((k=e.column)==null?void 0:k.dataIndex)&&((O=$.sorter)==null?void 0:O.field)===e.column.dataIndex}),o=v(()=>{var k;return((k=e.column)==null?void 0:k.dataIndex)&&$.resizingColumn===e.column.dataIndex}),a=()=>{var k,O,S,d,p,z;return e.summary?ye((k=e.column)==null?void 0:k.summaryCellClass)?e.column.summaryCellClass((O=e.record)==null?void 0:O.raw):(S=e.column)==null?void 0:S.summaryCellClass:ye((d=e.column)==null?void 0:d.bodyCellClass)?e.column.bodyCellClass((p=e.record)==null?void 0:p.raw):(z=e.column)==null?void 0:z.bodyCellClass},i=v(()=>{var k;return[`${l}-td`,{[`${l}-col-sorted`]:r.value,[`${l}-td-resizing`]:o.value},...ma(l,e.column),(k=e.column)==null?void 0:k.cellClass,a()]}),f=()=>{var k,O,S,d,p,z;return e.summary?ye((k=e.column)==null?void 0:k.summaryCellStyle)?e.column.summaryCellStyle((O=e.record)==null?void 0:O.raw):(S=e.column)==null?void 0:S.summaryCellStyle:ye((d=e.column)==null?void 0:d.bodyCellStyle)?e.column.bodyCellStyle((p=e.record)==null?void 0:p.raw):(z=e.column)==null?void 0:z.bodyCellStyle},g=v(()=>{var k;const O=ga(e.column,{dataColumns:e.dataColumns,operations:e.operations}),S=f();return{...O,...(k=e.column)==null?void 0:k.cellStyle,...S}}),s=v(()=>{if(e.isFixedExpand&&e.containerWidth)return{width:`${e.containerWidth}px`}}),$=Pe(bl,{}),b=()=>{var k,O,S,d,p,z,m,C;if(t.default)return t.default();const F={record:(k=e.record)==null?void 0:k.raw,column:e.column,rowIndex:(O=e.rowIndex)!=null?O:-1};return t.cell?t.cell(F):(S=e.column.slots)!=null&&S.cell?e.column.slots.cell(F):e.column.render?e.column.render(F):e.column.slotName&&((d=$.slots)!=null&&d[e.column.slotName])?(z=(p=$.slots)[e.column.slotName])==null?void 0:z.call(p,F):String((C=Tl((m=e.record)==null?void 0:m.raw,e.column.dataIndex))!=null?C:"")},y=R(!1),B=k=>{var O,S;ye($.loadMore)&&!((O=e.record)!=null&&O.isLeaf)&&!((S=e.record)!=null&&S.children)&&(y.value=!0,new Promise(d=>{var p;(p=$.loadMore)==null||p.call($,e.record.raw,d)}).then(d=>{var p;(p=$.addLazyLoadData)==null||p.call($,d,e.record),y.value=!1})),k.stopPropagation()},x=()=>{var k,O,S,d,p,z;let m;return c("span",{class:[`${l}-cell`,`${l}-cell-align-${(O=(k=e.column)==null?void 0:k.align)!=null?O:"left"}`,{[`${l}-cell-fixed-expand`]:e.isFixedExpand,[`${l}-cell-expand-icon`]:e.showExpandBtn}],style:s.value},[e.indentSize>0&&c("span",{style:{paddingLeft:`${e.indentSize}px`}},null),e.showExpandBtn&&c("span",{class:`${l}-cell-inline-icon`,onClick:B},[y.value?c(Mt,null,null):(S=e.renderExpandBtn)==null?void 0:S.call(e,e.record,!1)]),(d=e.column)!=null&&d.ellipsis&&((p=e.column)!=null&&p.tooltip)?c(ba,{class:`${l}-td-content`,tooltipProps:n.value},Xu(m=b())?m:{default:()=>[m]}):c("span",{class:[`${l}-td-content`,{[`${l}-text-ellipsis`]:(z=e.column)==null?void 0:z.ellipsis}]},[b()])])};return()=>{var k,O,S,d;return c((d=(S=t.td)==null?void 0:S.call(t,{record:(k=e.record)==null?void 0:k.raw,column:e.column,rowIndex:(O=e.rowIndex)!=null?O:-1})[0])!=null?d:"td",{class:i.value,style:g.value,rowspan:e.rowSpan>1?e.rowSpan:void 0,colspan:e.colSpan>1?e.colSpan:void 0},{default:()=>[x()]})}}}),Qu=te({name:"OperationTh",props:{operationColumn:{type:Object,required:!0},operations:{type:Array,required:!0},rowSpan:{type:Number,default:1},selectAll:{type:Boolean,default:!1}},setup(e){const t=re("table"),l=Pe(bl,{}),n=v(()=>{var i,f,g,s;let $=!1,b=!1;const B=((f=(i=l.currentSelectedRowKeys)==null?void 0:i.filter(k=>{var O,S;return(S=(O=l.currentAllEnabledRowKeys)==null?void 0:O.includes(k))!=null?S:!0}))!=null?f:[]).length,x=(s=(g=l.currentAllEnabledRowKeys)==null?void 0:g.length)!=null?s:0;return B>0&&(B>=x?$=!0:b=!0),{checked:$,indeterminate:b}}),r=()=>e.selectAll?c(fl,{modelValue:n.value.checked,indeterminate:n.value.indeterminate,uninjectGroupContext:!0,onChange:i=>{var f;(f=l.onSelectAll)==null||f.call(l,i)}},{default:ye(e.operationColumn.title)?e.operationColumn.title():e.operationColumn.title}):e.operationColumn.title?ye(e.operationColumn.title)?e.operationColumn.title():e.operationColumn.title:null,o=v(()=>ha(e.operationColumn,e.operations)),a=v(()=>[`${t}-th`,`${t}-operation`,{[`${t}-checkbox`]:e.selectAll},...fa(t,e.operationColumn)]);return()=>c("th",{class:a.value,style:o.value,rowspan:e.rowSpan>1?e.rowSpan:void 0},[c("span",{class:`${t}-cell`},[r()])])}}),jn=te({name:"OperationTd",components:{Checkbox:fl,Radio:Lt,IconPlus:Ut,IconMinus:Yt},props:{operationColumn:{type:Object,required:!0},operations:{type:Array,required:!0},record:{type:Object,required:!0},hasExpand:{type:Boolean,default:!1},selectedRowKeys:{type:Array},renderExpandBtn:{type:Function},colSpan:{type:Number,default:1},rowSpan:{type:Number,default:1},summary:{type:Boolean,default:!1}},emits:["select"],setup(e,{emit:t,slots:l}){const n=re("table"),r=Pe(bl,{}),o=v(()=>ha(e.operationColumn,e.operations)),a=v(()=>[`${n}-td`,`${n}-operation`,{[`${n}-checkbox`]:e.operationColumn.name==="selection-checkbox",[`${n}-radio`]:e.operationColumn.name==="selection-radio",[`${n}-expand`]:e.operationColumn.name==="expand",[`${n}-drag-handle`]:e.operationColumn.name==="drag-handle"},...fa(n,e.operationColumn)]),i=v(()=>Zt(e.record)),f=v(()=>{var s;return Ru((s=r.currentSelectedRowKeys)!=null?s:[],i.value)}),g=()=>{var s,$,b,y,B,x;if(e.summary)return null;if(e.operationColumn.render)return e.operationColumn.render(e.record.raw);if(e.operationColumn.name==="selection-checkbox"){const k=e.record.key;return!r.checkStrictly&&!e.record.isLeaf?c(fl,{modelValue:f.value.checked,indeterminate:f.value.indeterminate,disabled:!!e.record.disabled,uninjectGroupContext:!0,onChange:O=>{var S;return(S=r.onSelectAllLeafs)==null?void 0:S.call(r,e.record,O)},onClick:O=>O.stopPropagation()},null):c(fl,{modelValue:($=(s=e.selectedRowKeys)==null?void 0:s.includes(k))!=null?$:!1,disabled:!!e.record.disabled,uninjectGroupContext:!0,onChange:O=>{var S;return(S=r.onSelect)==null?void 0:S.call(r,O,e.record)},onClick:O=>O.stopPropagation()},null)}if(e.operationColumn.name==="selection-radio"){const k=e.record.key;return c(Lt,{modelValue:(y=(b=e.selectedRowKeys)==null?void 0:b.includes(k))!=null?y:!1,disabled:!!e.record.disabled,uninjectGroupContext:!0,onChange:O=>{var S;return(S=r.onSelect)==null?void 0:S.call(r,O,e.record)},onClick:O=>O.stopPropagation()},null)}return e.operationColumn.name==="expand"?e.hasExpand&&e.renderExpandBtn?e.renderExpandBtn(e.record):null:e.operationColumn.name==="drag-handle"?(x=(B=l["drag-handle-icon"])==null?void 0:B.call(l))!=null?x:c(mo,null,null):null};return()=>c("td",{class:a.value,style:o.value,rowspan:e.rowSpan>1?e.rowSpan:void 0,colspan:e.colSpan>1?e.colSpan:void 0},[c("span",{class:`${n}-cell`},[g()])])}});const er=e=>{const t=v(()=>{if(e.value)return e.value.type==="handle"?"handle":"row"}),l=Be({dragging:!1,sourceKey:"",sourcePath:[],targetPath:[],data:{}}),n=()=>{l.dragging=!1,l.sourceKey="",l.sourcePath=[],l.targetPath=[],l.data={}};return{dragType:t,dragState:l,handleDragStart:(s,$,b,y)=>{if(s.dataTransfer&&(s.dataTransfer.effectAllowed="move",s.target&&s.target.tagName==="TD")){const{parentElement:B}=s.target;B&&B.tagName==="TR"&&s.dataTransfer.setDragImage(B,0,0)}l.dragging=!0,l.sourceKey=$,l.sourcePath=b,l.targetPath=[...b],l.data=y},handleDragEnter:(s,$)=>{s.dataTransfer&&(s.dataTransfer.dropEffect="move"),l.targetPath.toString()!==$.toString()&&(l.targetPath=$),s.preventDefault()},handleDragLeave:s=>{},handleDragover:s=>{s.dataTransfer&&(s.dataTransfer.dropEffect="move"),s.preventDefault()},handleDragEnd:s=>{var $;(($=s.dataTransfer)==null?void 0:$.dropEffect)==="none"&&n()},handleDrop:s=>{n(),s.preventDefault()}}},lr=(e,t)=>{const l=R(""),n=Be({}),r=(i,f)=>{f.preventDefault(),l.value=i,yt(window,"mousemove",a),yt(window,"mouseup",o),yt(window,"contextmenu",o)},o=()=>{l.value="",ht(window,"mousemove",a),ht(window,"mouseup",o),ht(window,"contextmenu",o)},a=i=>{const f=e.value[l.value];if(f){const{clientX:g}=i,{x:s}=f.getBoundingClientRect();let $=Math.ceil(g-s);$<40&&($=40),n[l.value]=$,t("columnResize",l.value,$)}};return{resizingColumn:l,columnWidth:n,handleThMouseDown:r,handleThMouseUp:o}},tr=({columns:e,onFilterChange:t})=>{const l=R(Ln(e.value));ve(e,a=>{const i=Ln(a);pl(i,l.value)||(l.value=i)});const n=v(()=>{var a,i;const f={};for(const g of e.value)if(g.dataIndex){const s=(i=(a=g.filterable)==null?void 0:a.filteredValue)!=null?i:l.value[g.dataIndex];s&&(f[g.dataIndex]=s)}return f});return{_filters:l,computedFilters:n,resetFilters:a=>{var i;const f=a?[].concat(a):[],g={};for(const s of e.value)if(s.dataIndex&&s.filterable&&(f.length===0||f.includes(s.dataIndex))){const $=(i=s.filterable.defaultFilteredValue)!=null?i:[];g[s.dataIndex]=$,t(s.dataIndex,$)}l.value=g},clearFilters:a=>{const i=a?[].concat(a):[],f={};for(const g of e.value)if(g.dataIndex&&g.filterable&&(i.length===0||i.includes(g.dataIndex))){const s=[];f[g.dataIndex]=s,t(g.dataIndex,s)}l.value=f}}},Ln=e=>{var t;const l={};for(const n of e)n.dataIndex&&((t=n.filterable)!=null&&t.defaultFilteredValue)&&(l[n.dataIndex]=n.filterable.defaultFilteredValue);return l},nr=({columns:e,onSorterChange:t})=>{const l=R(Dn(e.value));ve(e,a=>{const i=Dn(a);pl(i,l.value)||(l.value=i)});const n=v(()=>{var a;for(const i of e.value)if(i.dataIndex&&i.sortable){const f=gl(i.sortable.sortOrder)?i.sortable.sortOrder:((a=l.value)==null?void 0:a.field)===i.dataIndex?l.value.direction:"";if(f)return{field:i.dataIndex,direction:f}}});return{_sorter:l,computedSorter:n,resetSorters:()=>{var a;let i;for(const f of e.value)f.dataIndex&&f.sortable&&(!i&&f.sortable.defaultSortOrder&&(i={field:f.dataIndex,direction:f.sortable.defaultSortOrder}),t(f.dataIndex,(a=f.sortable.defaultSortOrder)!=null?a:""));l.value=i},clearSorters:()=>{for(const a of e.value)a.dataIndex&&a.sortable&&t(a.dataIndex,"")}}},Dn=e=>{var t;for(const l of e)if(l.dataIndex&&((t=l.sortable)!=null&&t.defaultSortOrder))return{field:l.dataIndex,direction:l.sortable.defaultSortOrder}},Tn=({spanMethod:e,data:t,columns:l})=>{const n=(i,f)=>{i?.forEach((g,s)=>{var $;g.hasSubtree&&(($=g.children)!=null&&$.length)&&n(g.children||[],f),l.value.forEach((b,y)=>{var B,x;const{rowspan:k=1,colspan:O=1}=(x=(B=e.value)==null?void 0:B.call(e,{record:g.raw,column:b,rowIndex:s,columnIndex:y}))!=null?x:{};(k>1||O>1)&&(f[`${s}-${y}-${g.key}`]=[k,O],Array.from({length:k}).forEach((S,d)=>{var p;if(s+d<i.length){const{key:z}=(p=i[s+d])!=null?p:{};Array.from({length:O}).forEach((m,C)=>{y+C<l.value.length&&`${s}-${y}-${g.key}`!=`${s+d}-${y+C}-${z}`&&(r.value[`${s+d}-${y+C}-${z}`]=[0,0])})}}))})})};let r=R({});const o=v(()=>{const i={};return r.value={},e.value&&n(t.value,i),i}),a=v(()=>{const i=[];for(const f of Object.keys(r.value))i.push(f);return i});return{tableSpan:o,removedCells:a}};function ar(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Pl(e)}const Mn={wrapper:!0,cell:!1,headerCell:!1,bodyCell:!1};var Vt=te({name:"Table",props:{columns:{type:Array,default:()=>[]},data:{type:Array,default:()=>[]},bordered:{type:[Boolean,Object],default:!0},hoverable:{type:Boolean,default:!0},stripe:{type:Boolean,default:!1},size:{type:String,default:()=>{var e,t;return(t=(e=Pe(Ul,void 0))==null?void 0:e.size)!=null?t:"large"}},tableLayoutFixed:{type:Boolean,default:!1},loading:{type:[Boolean,Object],default:!1},rowSelection:{type:Object},expandable:{type:Object},scroll:{type:Object},pagination:{type:[Boolean,Object],default:!0},pagePosition:{type:String,default:"br"},indentSize:{type:Number,default:16},rowKey:{type:String,default:"key"},showHeader:{type:Boolean,default:!0},virtualListProps:{type:Object},spanMethod:{type:Function},spanAll:{type:Boolean,default:!1},components:{type:Object},loadMore:{type:Function},filterIconAlignLeft:{type:Boolean,default:!1},hideExpandButtonOnEmpty:{type:Boolean,default:!1},rowClass:{type:[String,Array,Object,Function]},draggable:{type:Object},rowNumber:{type:[Boolean,Object]},columnResizable:{type:Boolean},summary:{type:[Boolean,Function]},summaryText:{type:String,default:"Summary"},summarySpanMethod:{type:Function},selectedKeys:{type:Array},defaultSelectedKeys:{type:Array},expandedKeys:{type:Array},defaultExpandedKeys:{type:Array},defaultExpandAllRows:{type:Boolean,default:!1},stickyHeader:{type:[Boolean,Number],default:!1},scrollbar:{type:[Object,Boolean],default:!0},showEmptyTree:{type:Boolean,default:!1}},emits:{"update:selectedKeys":e=>!0,"update:expandedKeys":e=>!0,expand:(e,t)=>!0,expandedChange:e=>!0,select:(e,t,l)=>!0,selectAll:e=>!0,selectionChange:e=>!0,sorterChange:(e,t)=>!0,filterChange:(e,t)=>!0,pageChange:e=>!0,pageSizeChange:e=>!0,change:(e,t,l)=>!0,cellMouseEnter:(e,t,l)=>!0,cellMouseLeave:(e,t,l)=>!0,cellClick:(e,t,l)=>!0,rowClick:(e,t)=>!0,headerClick:(e,t)=>!0,columnResize:(e,t)=>!0,rowDblclick:(e,t)=>!0,cellDblclick:(e,t,l)=>!0,rowContextmenu:(e,t)=>!0,cellContextmenu:(e,t,l)=>!0},setup(e,{emit:t,slots:l}){const{columns:n,rowKey:r,rowSelection:o,expandable:a,loadMore:i,filterIconAlignLeft:f,selectedKeys:g,defaultSelectedKeys:s,expandedKeys:$,defaultExpandedKeys:b,defaultExpandAllRows:y,spanMethod:B,draggable:x,summarySpanMethod:k,scrollbar:O,showEmptyTree:S}=ke(e),d=re("table"),p=Pe(Ul,void 0),z=v(()=>pe(e.bordered)?{...Mn,...e.bordered}:{...Mn,wrapper:e.bordered}),{children:m,components:C}=ia("TableColumn"),F=v(()=>{var u,h;return(h=(u=o.value)==null?void 0:u.checkStrictly)!=null?h:!0}),{displayScrollbar:K,scrollbarProps:T}=ta(O),A=v(()=>{var u,h,w,V;const N=!!((u=e.scroll)!=null&&u.x||(h=e.scroll)!=null&&h.minWidth),L=!!((w=e.scroll)!=null&&w.y||(V=e.scroll)!=null&&V.maxHeight);return{x:N,y:L}}),G=R(),U=R({}),{componentRef:Y,elementRef:X}=zl("containerRef"),{componentRef:H,elementRef:P}=zl("containerRef"),{elementRef:D}=zl("viewportRef"),{componentRef:Q,elementRef:ae}=zl("containerRef"),I=v(()=>M.value?jl.value?D.value:P.value:X.value),M=v(()=>A.value.y||e.stickyHeader||jl.value||A.value.x&&Se.value.length===0),J=Be(new Map),se=R();ve([C,J],([u,h])=>{if(u.length>0){const w=[];u.forEach(V=>{const N=h.get(V);N&&w.push(N)}),se.value=w}else se.value=void 0});const we=new Map,ne=R([]),Ee=R([]),{resizingColumn:Ne,columnWidth:Ie,handleThMouseDown:Cl}=lr(U,t);ve([n,se,Ie],([u,h])=>{var w;const V=Iu((w=h??u)!=null?w:[],we,Ie);ne.value=V.dataColumns,Ee.value=V.groupColumns},{immediate:!0,deep:!0});const tl=v(()=>["tl","top","tr"].includes(e.pagePosition)),We=R(!1),Ye=R(!1),E=R(!1);Jn(()=>{var u,h,w;let V=!1,N=!1,L=!1;((u=e.rowSelection)!=null&&u.fixed||(h=e.expandable)!=null&&h.fixed||(w=e.draggable)!=null&&w.fixed)&&(V=!0);for(const q of ne.value)q.fixed==="left"?(V=!0,L=!0):q.fixed==="right"&&(N=!0);V!==We.value&&(We.value=V),N!==Ye.value&&(Ye.value=N),L!==E.value&&(E.value=L)});const Z=v(()=>{for(const u of ne.value)if(u.ellipsis)return!0;return!1}),oe=u=>{const h={type:u,page:wl.value,pageSize:_l.value,sorter:He.value,filters:ze.value,dragTarget:u==="drag"?$l.data:void 0};t("change",ln.value,h,cl.value)},_e=(u,h)=>{nl.value={...ze.value,[u]:h},t("filterChange",u,h),oe("filter")},he=(u,h)=>{ot.value=h?{field:u,direction:h}:void 0,t("sorterChange",u,h),oe("sorter")},{_filters:nl,computedFilters:ze,resetFilters:nt,clearFilters:at}=tr({columns:ne,onFilterChange:_e}),{_sorter:ot,computedSorter:He,resetSorters:ut,clearSorters:rt}=nr({columns:ne,onSorterChange:he}),_=new Set,j=v(()=>{const u=[];_.clear();const h=w=>{if(dl(w)&&w.length>0)for(const V of w)u.push(V[r.value]),V.disabled&&_.add(V[r.value]),V.children&&h(V.children)};return h(e.data),u}),W=v(()=>{const u=[],h=w=>{for(const V of w)u.push(V.key),V.children&&h(V.children)};return h(Se.value),u}),ee=v(()=>{const u=[],h=w=>{for(const V of w)V.disabled||u.push(V.key),V.children&&h(V.children)};return h(Se.value),u}),{selectedRowKeys:al,currentSelectedRowKeys:Ae,handleSelect:Ca,handleSelectAllLeafs:Sa,handleSelectAll:$a,select:wa,selectAll:_a,clearSelected:xa}=Pu({selectedKeys:g,defaultSelectedKeys:s,rowSelection:o,currentAllRowKeys:W,currentAllEnabledRowKeys:ee,emit:t}),{expandedRowKeys:Xt,handleExpand:ka,expand:Ia,expandAll:Ba}=Fu({expandedKeys:$,defaultExpandedKeys:b,defaultExpandAllRows:y,expandable:a,allRowKeys:j,emit:t}),it=Be({}),za=(u,h)=>{u&&(it[h.key]=u)},Oa=u=>{var h,w;for(const V of Object.keys(ze.value)){const N=ze.value[V],L=we.get(V);if(L&&((h=L.filterable)!=null&&h.filter)&&N.length>0){const q=(w=L.filterable)==null?void 0:w.filter(N,u.raw);if(!q)return q}}return!0},{dragType:Sl,dragState:$l,handleDragStart:Va,handleDragEnter:Ra,handleDragover:Pa,handleDragEnd:Fa,handleDrop:Ea}=er(x),Qt=v(()=>{var u;const h=w=>{const V=[];for(const N of w){const L={raw:N,key:N[e.rowKey],disabled:N.disabled,expand:N.expand,isLeaf:N.isLeaf};N.children?(L.isLeaf=!1,L.children=h(N.children)):e.loadMore&&!N.isLeaf?(L.isLeaf=!1,it[L.key]&&(L.children=h(it[L.key]))):L.isLeaf=!0,L.hasSubtree=!!(L.children?!e.hideExpandButtonOnEmpty||L.children.length>0:e.loadMore&&!L.isLeaf),V.push(L)}return V};return h((u=e.data)!=null?u:[])}),en=v(()=>{const u=h=>h.filter(w=>Oa(w)?(w.children&&(w.children=u(w.children)),!0):!1);return Object.keys(ze.value).length>0?u(Qt.value):Qt.value}),cl=v(()=>{var u,h,w;const V=ya(en.value);if(V.length>0){if((u=He.value)!=null&&u.field){const q=we.get(He.value.field);if(q&&((h=q.sortable)==null?void 0:h.sorter)!==!0){const{field:ie,direction:fe}=He.value;V.sort((be,Ze)=>{var qe;const vt=Tl(be.raw,ie),ce=Tl(Ze.raw,ie);if((qe=q.sortable)!=null&&qe.sorter&&ye(q.sortable.sorter))return q.sortable.sorter(be.raw,Ze.raw,{dataIndex:ie,direction:fe});const je=vt>ce?1:-1;return fe==="descend"?-je:je})}}const{sourcePath:N,targetPath:L}=$l;if($l.dragging&&L.length&&L.toString()!==N.toString()&&N.length===L.length&&N.slice(0,-1).toString()===L.slice(0,-1).toString()){let q=V;for(let ie=0;ie<N.length;ie++){const fe=N[ie];if(ie>=N.length-1){const Ze=q[fe],qe=L[ie];qe>fe?(q.splice(qe+1,0,Ze),q.splice(fe,1)):(q.splice(qe,0,Ze),q.splice(fe+1,1))}else q=(w=q[fe].children)!=null?w:[]}}}return V}),{page:wl,pageSize:_l,handlePageChange:Na,handlePageSizeChange:Aa}=Eu(e,t),ja=v(()=>{var u,h;return(h=(u=o.value)==null?void 0:u.onlyCurrent)!=null?h:!1});ve(wl,(u,h)=>{u!==h&&ja.value&&xa()});const Se=v(()=>e.pagination&&cl.value.length>_l.value?cl.value.slice((wl.value-1)*_l.value,wl.value*_l.value):cl.value),ln=v(()=>pa(Se.value)),La=()=>ne.value.reduce((u,h,w)=>{if(h.dataIndex)if(w===0)Bn(u,h.dataIndex,e.summaryText,{addPath:!0});else{let V=0,N=!1;Se.value.forEach(L=>{if(h.dataIndex){const q=Tl(L.raw,h.dataIndex);ue(q)?V+=q:!Oe(q)&&!yl(q)&&(N=!0)}}),Bn(u,h.dataIndex,N?"":V,{addPath:!0})}return u},{}),tn=u=>u&&u.length>0?u.map(h=>({raw:h,key:h[e.rowKey]})):[],Je=v(()=>e.summary?ye(e.summary)?tn(e.summary({columns:ne.value,data:ln.value})):tn([La()]):[]),Fl=R(0),El=R(!0),Nl=R(!0),st=()=>{let u=!0,h=!0;const w=I.value;w&&(u=Fl.value===0,h=Math.ceil(Fl.value+w.offsetWidth)>=w.scrollWidth),u!==El.value&&(El.value=u),h!==Nl.value&&(Nl.value=h)},Da=()=>El.value&&Nl.value?`${d}-scroll-position-both`:El.value?`${d}-scroll-position-left`:Nl.value?`${d}-scroll-position-right`:`${d}-scroll-position-middle`,Ta=()=>{const u=[];return We.value&&u.push(`${d}-has-fixed-col-left`),Ye.value&&u.push(`${d}-has-fixed-col-right`),u},nn=u=>{u.target.scrollLeft!==Fl.value&&(Fl.value=u.target.scrollLeft),st()},an=u=>{nn(u);const{scrollLeft:h}=u.target;ae.value&&(ae.value.scrollLeft=h),G.value&&(G.value.scrollLeft=h)},on=(u,h)=>{t("rowClick",u.raw,h)},Ma=(u,h)=>{t("rowDblclick",u.raw,h)},Ka=(u,h)=>{t("rowContextmenu",u.raw,h)},un=(u,h,w)=>{t("cellClick",u.raw,h,w)},rn=jt((u,h,w)=>{t("cellMouseEnter",u.raw,h,w)},30),sn=jt((u,h,w)=>{t("cellMouseLeave",u.raw,h,w)},30),dn=(u,h,w)=>{t("cellDblclick",u.raw,h,w)},cn=(u,h,w)=>{t("cellContextmenu",u.raw,h,w)},Wa=(u,h)=>{t("headerClick",u,h)},Ce=v(()=>{var u,h;const w=[],V=We.value||Ye.value;let N,L,q;((u=e.draggable)==null?void 0:u.type)==="handle"&&(N={name:"drag-handle",title:e.draggable.title,width:e.draggable.width,fixed:e.draggable.fixed||V},w.push(N)),e.expandable&&(L={name:"expand",title:e.expandable.title,width:e.expandable.width,fixed:e.expandable.fixed||V},w.push(L)),e.rowSelection&&(q={name:e.rowSelection.type==="radio"?"selection-radio":"selection-checkbox",title:e.rowSelection.title,width:e.rowSelection.width,fixed:e.rowSelection.fixed||V},w.push(q)),!E.value&&w.length>0&&w[w.length-1].fixed&&(w[w.length-1].isLastLeftFixed=!0);const ie=(h=e.components)==null?void 0:h.operations;return ye(ie)?ie({dragHandle:N,expand:L,selection:q}):w}),Ha=v(()=>{var u,h,w,V;if(A.value.x){const N={width:ue((u=e.scroll)==null?void 0:u.x)?`${(h=e.scroll)==null?void 0:h.x}px`:(w=e.scroll)==null?void 0:w.x};return(V=e.scroll)!=null&&V.minWidth&&(N.minWidth=ue(e.scroll.minWidth)?`${e.scroll.minWidth}px`:e.scroll.minWidth),N}}),Al=v(()=>{var u,h,w,V;if(A.value.x&&Se.value.length>0){const N={width:ue((u=e.scroll)==null?void 0:u.x)?`${(h=e.scroll)==null?void 0:h.x}px`:(w=e.scroll)==null?void 0:w.x};return(V=e.scroll)!=null&&V.minWidth&&(N.minWidth=ue(e.scroll.minWidth)?`${e.scroll.minWidth}px`:e.scroll.minWidth),N}});Xl(bl,Be({loadMore:i,addLazyLoadData:za,slots:l,sorter:He,filters:ze,filterIconAlignLeft:f,resizingColumn:Ne,checkStrictly:F,currentAllEnabledRowKeys:ee,currentSelectedRowKeys:Ae,addColumn:(u,h)=>{J.set(u,h)},removeColumn:u=>{J.delete(u)},onSelectAll:$a,onSelect:Ca,onSelectAllLeafs:Sa,onSorterChange:he,onFilterChange:_e,onThMouseDown:Cl}));const vn=v(()=>[d,`${d}-size-${e.size}`,{[`${d}-border`]:z.value.wrapper,[`${d}-border-cell`]:z.value.cell,[`${d}-border-header-cell`]:!z.value.cell&&z.value.headerCell,[`${d}-border-body-cell`]:!z.value.cell&&z.value.bodyCell,[`${d}-stripe`]:e.stripe,[`${d}-hover`]:e.hoverable,[`${d}-dragging`]:$l.dragging,[`${d}-type-selection`]:!!e.rowSelection,[`${d}-empty`]:e.data&&Se.value.length===0,[`${d}-layout-fixed`]:e.tableLayoutFixed||A.value.x||M.value||Z.value}]),qa=v(()=>[`${d}-pagination`,{[`${d}-pagination-left`]:e.pagePosition==="tl"||e.pagePosition==="bl",[`${d}-pagination-center`]:e.pagePosition==="top"||e.pagePosition==="bottom",[`${d}-pagination-right`]:e.pagePosition==="tr"||e.pagePosition==="br",[`${d}-pagination-top`]:tl.value}]),Ga=v(()=>{const u=Ta();return A.value.x&&u.push(Da()),M.value&&u.push(`${d}-scroll-y`),u}),jl=v(()=>!!e.virtualListProps),dt=R({}),fn=()=>{const u={};for(const h of Object.keys(U.value))u[h]=U.value[h].offsetWidth;dt.value=u},xl=R(!1),mn=()=>P.value?P.value.offsetWidth>P.value.clientWidth:!1,Ua=()=>{const u=mn();xl.value!==u&&(xl.value=u),st(),fn()};ll(()=>{xl.value=mn(),fn()});const Ya=v(()=>pe(e.loading)?e.loading:{loading:e.loading}),gn=()=>c(Xe,{empty:!0},{default:()=>[c(ol,{colSpan:ne.value.length+Ce.value.length},{default:()=>{var u,h,w,V,N;return[(N=(V=(u=l.empty)==null?void 0:u.call(l))!=null?V:(w=p==null?void 0:(h=p.slots).empty)==null?void 0:w.call(h,{component:"table"}))!=null?N:c(Gn,null,null)]}})]}),Ja=u=>{var h;if(u.expand)return ye(u.expand)?u.expand():u.expand;if(l["expand-row"])return l["expand-row"]({record:u.raw});if((h=e.expandable)!=null&&h.expandedRowRender)return e.expandable.expandedRowRender(u.raw)},hn=v(()=>[].concat(Ce.value,ne.value)),Za=v(()=>e.spanAll?hn.value:ne.value),{tableSpan:yn,removedCells:pn}=Tn({spanMethod:B,data:Se,columns:Za}),{tableSpan:bn,removedCells:Cn}=Tn({spanMethod:k,data:Je,columns:hn}),Ll=u=>{if(!(!jl.value||!u||!dt.value[u]))return{width:`${dt.value[u]}px`}},Xa=(u,h)=>c(Xe,{key:`table-summary-${h}`,class:[`${d}-tr-summary`,ye(e.rowClass)?e.rowClass(u.raw,h):e.rowClass],onClick:w=>on(u,w)},{default:()=>[Ce.value.map((w,V)=>{var N;const L=`${h}-${V}-${u.key}`,[q,ie]=(N=bn.value[L])!=null?N:[1,1];if(Cn.value.includes(L))return null;const fe=Ll(w.name);return c(jn,{style:fe,operationColumn:w,operations:Ce.value,record:u,rowSpan:q,colSpan:ie,summary:!0},null)}),ne.value.map((w,V)=>{var N;const L=`${h}-${Ce.value.length+V}-${u.key}`,[q,ie]=(N=bn.value[L])!=null?N:[1,1];if(Cn.value.includes(L))return null;const fe=Ll(w.dataIndex);return c(ol,{key:`td-${L}`,style:fe,rowIndex:h,record:u,column:w,operations:Ce.value,dataColumns:ne.value,rowSpan:q,colSpan:ie,summary:!0,onClick:be=>un(u,w,be),onDblclick:be=>dn(u,w,be),onMouseenter:be=>rn(u,w,be),onMouseleave:be=>sn(u,w,be),onContextmenu:be=>cn(u,w,be)},{td:l.td,cell:l["summary-cell"]})})],tr:l.tr}),Sn=()=>Je.value&&Je.value.length>0?c("tfoot",null,[Je.value.map((u,h)=>Xa(u,h))]):null,$n=(u,h=!0)=>{var w,V,N,L,q;const ie=u.key,fe=Xt.value.includes(ie);return c("button",{type:"button",class:`${d}-expand-btn`,onClick:be=>{ka(ie,u.raw),h&&be.stopPropagation()}},[(q=(L=(w=l["expand-icon"])==null?void 0:w.call(l,{expanded:fe,record:u.raw}))!=null?L:(N=(V=e.expandable)==null?void 0:V.icon)==null?void 0:N.call(V,fe,u.raw))!=null?q:fe?c(Yt,null,null):c(Ut,null,null)])},Qa=(u,{indentSize:h,indexPath:w,allowDrag:V,expandContent:N})=>{var L,q;if(u.hasSubtree)return((L=u.children)==null?void 0:L.length)===0&&S.value?gn():(q=u.children)==null?void 0:q.map((ie,fe)=>ct(ie,fe,{indentSize:h,indexPath:w,allowDrag:V}));if(N){const ie=I.value;return c(Xe,{key:`${u.key}-expand`,expand:!0},{default:()=>[c(ol,{isFixedExpand:We.value||Ye.value,containerWidth:ie?.clientWidth,colSpan:ne.value.length+Ce.value.length},ar(N)?N:{default:()=>[N]})]})}return null},ct=(u,h,{indentSize:w=0,indexPath:V,allowDrag:N=!0}={})=>{var L;const q=u.key,ie=(V??[]).concat(h),fe=Ja(u),be=Xt.value.includes(q),Ze=$l.sourceKey===u.key,qe=Sl.value?{draggable:N,onDragstart:ce=>{N&&Va(ce,u.key,ie,u.raw)},onDragend:ce=>{N&&Fa(ce)}}:{},vt=Sl.value?{onDragenter:ce=>{N&&Ra(ce,ie)},onDragover:ce=>{N&&Pa(ce)},onDrop:ce=>{N&&(oe("drag"),Ea(ce))}}:{};return c(Ve,null,[c(Xe,me({key:q,class:[{[`${d}-tr-draggable`]:Sl.value==="row",[`${d}-tr-drag`]:Ze},ye(e.rowClass)?e.rowClass(u.raw,h):e.rowClass],rowIndex:h,record:u,checked:e.rowSelection&&((L=al.value)==null?void 0:L.includes(q)),onClick:ce=>on(u,ce),onDblclick:ce=>Ma(u,ce),onContextmenu:ce=>Ka(u,ce)},Sl.value==="row"?qe:{},vt),{default:()=>[Ce.value.map((ce,je)=>{var kl;const Il=`${h}-${je}-${u.key}`,[ft,mt]=e.spanAll?(kl=yn.value[Il])!=null?kl:[1,1]:[1,1];if(e.spanAll&&pn.value.includes(Il))return null;const gt=Ll(ce.name);return c(jn,me({key:`operation-td-${je}`,style:gt,operationColumn:ce,operations:Ce.value,record:u,hasExpand:!!fe,selectedRowKeys:Ae.value,rowSpan:ft,colSpan:mt,renderExpandBtn:$n},Sl.value==="handle"?qe:{}),{"drag-handle-icon":l["drag-handle-icon"]})}),ne.value.map((ce,je)=>{var kl;const Il=`${h}-${e.spanAll?Ce.value.length+je:je}-${u.key}`,[ft,mt]=(kl=yn.value[Il])!=null?kl:[1,1];if(pn.value.includes(Il))return null;const gt=je===0?{showExpandBtn:u.hasSubtree,indentSize:u.hasSubtree?w-20:w}:{},to=Ll(ce.dataIndex);return c(ol,me({key:`td-${je}`,style:to,rowIndex:h,record:u,column:ce,operations:Ce.value,dataColumns:ne.value,rowSpan:ft,renderExpandBtn:$n,colSpan:mt},gt,{onClick:Ge=>un(u,ce,Ge),onDblclick:Ge=>dn(u,ce,Ge),onMouseenter:Ge=>rn(u,ce,Ge),onMouseleave:Ge=>sn(u,ce,Ge),onContextmenu:Ge=>cn(u,ce,Ge)}),{td:l.td})})],tr:l.tr}),be&&Qa(u,{indentSize:w+e.indentSize,indexPath:ie,allowDrag:N&&!Ze,expandContent:fe})])},wn=()=>{const u=Se.value.some(h=>!!h.hasSubtree);return c(ql,null,{default:()=>[Se.value.length>0?Se.value.map((h,w)=>ct(h,w,{indentSize:u?20:0})):gn()],tbody:l.tbody})},_n=()=>c(Hl,null,{default:()=>[Ee.value.map((u,h)=>c(Xe,{key:`header-row-${h}`},{default:()=>[h===0&&Ce.value.map((w,V)=>{var N;return c(Qu,{key:`operation-th-${V}`,ref:L=>{L?.$el&&w.name&&(U.value[w.name]=L.$el)},operationColumn:w,operations:Ce.value,selectAll:!!(w.name==="selection-checkbox"&&((N=e.rowSelection)!=null&&N.showCheckedAll)),rowSpan:Ee.value.length},null)}),u.map((w,V)=>{const N=e.columnResizable&&!!w.dataIndex&&V<u.length-1;return c(Gl,{key:`th-${V}`,ref:L=>{L?.$el&&w.dataIndex&&(U.value[w.dataIndex]=L.$el)},column:w,operations:Ce.value,dataColumns:ne.value,resizable:N,onClick:L=>Wa(w,L)},{th:l.th})})]}))],thead:l.thead}),eo=()=>{var u,h;if(M.value){const w=ue(e.stickyHeader)?`${e.stickyHeader}px`:void 0,V=[(u=T.value)==null?void 0:u.outerClass];e.stickyHeader&&V.push(`${d}-header-sticky`);const N={top:w,...(h=T.value)==null?void 0:h.outerStyle},L=K.value?Pt:"div";return c(Ve,null,[e.showHeader&&c(L,me({ref:Q,class:[`${d}-header`,{[`${d}-header-sticky`]:e.stickyHeader&&!K.value}],style:{overflowY:xl.value?"scroll":void 0,top:K.value?void 0:w}},O.value?{hide:Se.value.length!==0,disableVertical:!0,...T.value,outerClass:V,outerStyle:N}:void 0),{default:()=>[c("table",{class:`${d}-element`,style:Ha.value,cellpadding:0,cellspacing:0},[c(Dl,{dataColumns:ne.value,operations:Ce.value,columnWidth:Ie},null),_n()])]}),c(Et,{onResize:Ua},{default:()=>{var q,ie;return[jl.value&&Se.value.length?c(ua,me({ref:fe=>{fe?.$el&&(P.value=fe.$el)},class:`${d}-body`,data:Se.value,itemKey:"_key",component:{list:"table",content:"tbody"},listAttrs:{class:`${d}-element`,style:Al.value},paddingPosition:"list",height:"auto"},e.virtualListProps,{onScroll:an}),{item:({item:fe,index:be})=>ct(fe,be)}):c(L,me({ref:H,class:`${d}-body`,style:{maxHeight:ue((q=e.scroll)==null?void 0:q.y)?`${(ie=e.scroll)==null?void 0:ie.y}px`:"100%"}},O.value?{outerStyle:{display:"flex",minHeight:"0"},...T.value}:void 0,{onScroll:an}),{default:()=>[c("table",{class:`${d}-element`,style:Al.value,cellpadding:0,cellspacing:0},[Se.value.length!==0&&c(Dl,{dataColumns:ne.value,operations:Ce.value,columnWidth:Ie},null),wn()])]})]}}),Je.value&&Je.value.length>0&&c("div",{ref:G,class:`${d}-tfoot`,style:{overflowY:xl.value?"scroll":"hidden"}},[c("table",{class:`${d}-element`,style:Al.value,cellpadding:0,cellspacing:0},[c(Dl,{dataColumns:ne.value,operations:Ce.value,columnWidth:Ie},null),Sn()])])])}return c(Et,{onResize:()=>st()},{default:()=>[c("table",{class:`${d}-element`,cellpadding:0,cellspacing:0,style:Al.value},[c(Dl,{dataColumns:ne.value,operations:Ce.value,columnWidth:Ie},null),e.showHeader&&_n(),wn(),Je.value&&Je.value.length>0&&Sn()])]})},xn=u=>{var h;const w=(h=e.scroll)!=null&&h.maxHeight?{maxHeight:e.scroll.maxHeight}:void 0,V=K.value?Pt:"div";return c(Ve,null,[c("div",{class:[`${d}-container`,Ga.value]},[c(V,me({ref:Y,class:[`${d}-content`,{[`${d}-content-scroll-x`]:!M.value}],style:w},O.value?{outerStyle:{height:"100%"},...T.value}:void 0,{onScroll:nn}),{default:()=>[u?c("table",{class:`${d}-element`,cellpadding:0,cellspacing:0},[u()]):eo()]})]),l.footer&&c("div",{class:`${d}-footer`},[l.footer()])])},kn=()=>{var u,h;const w=pe(e.pagination)?qt(e.pagination,["current","pageSize","defaultCurrent","defaultPageSize"]):{};return c("div",{class:qa.value},[(u=l["pagination-left"])==null?void 0:u.call(l),c(xu,me({total:en.value.length,current:wl.value,pageSize:_l.value,onChange:V=>{Na(V),oe("pagination")},onPageSizeChange:V=>{Aa(V),oe("pagination")}},w),null),(h=l["pagination-right"])==null?void 0:h.call(l)])},lo=v(()=>{var u,h;if(gl((u=e.scroll)==null?void 0:u.y))return{height:(h=e.scroll)==null?void 0:h.y}});return{render:()=>{var u;return l.default?c("div",{class:vn.value},[xn(l.default)]):(m.value=(u=l.columns)==null?void 0:u.call(l),c("div",{class:vn.value,style:lo.value},[m.value,c(la,Ya.value,{default:()=>[e.pagination!==!1&&(Se.value.length>0||cl.value.length>0)&&tl.value&&kn(),xn(),e.pagination!==!1&&(Se.value.length>0||cl.value.length>0)&&!tl.value&&kn()]})]))},selfExpand:Ia,selfExpandAll:Ba,selfSelect:wa,selfSelectAll:_a,selfResetFilters:nt,selfClearFilters:at,selfResetSorters:ut,selfClearSorters:rt}},methods:{selectAll(e){return this.selfSelectAll(e)},select(e,t){return this.selfSelect(e,t)},expandAll(e){return this.selfExpandAll(e)},expand(e,t){return this.selfExpand(e,t)},resetFilters(e){return this.selfResetFilters(e)},clearFilters(e){return this.selfClearFilters(e)},resetSorters(){return this.selfResetSorters()},clearSorters(){return this.selfClearSorters()}},render(){return this.render()}});const Fe=(e,t)=>{const l=Zn(e,t),n=R(l.value);return ve(l,(r,o)=>{pl(r,o)||(n.value=r)}),n};var Rt=te({name:"TableColumn",props:{dataIndex:String,title:String,width:Number,minWidth:Number,align:{type:String},fixed:{type:String},ellipsis:{type:Boolean,default:!1},sortable:{type:Object,default:void 0},filterable:{type:Object,default:void 0},cellClass:{type:[String,Array,Object]},headerCellClass:{type:[String,Array,Object]},bodyCellClass:{type:[String,Array,Object,Function]},summaryCellClass:{type:[String,Array,Object,Function]},cellStyle:{type:Object},headerCellStyle:{type:Object},bodyCellStyle:{type:[Object,Function]},summaryCellStyle:{type:[Object,Function]},index:{type:Number},tooltip:{type:[Boolean,Object],default:!1}},setup(e,{slots:t}){var l;const{dataIndex:n,title:r,width:o,align:a,fixed:i,ellipsis:f,index:g,minWidth:s}=ke(e),$=Fe(e,"sortable"),b=Fe(e,"filterable"),y=Fe(e,"cellClass"),B=Fe(e,"headerCellClass"),x=Fe(e,"bodyCellClass"),k=Fe(e,"summaryCellClass"),O=Fe(e,"cellStyle"),S=Fe(e,"headerCellStyle"),d=Fe(e,"bodyCellStyle"),p=Fe(e,"summaryCellStyle"),z=Fe(e,"tooltip"),m=Wt(),C=Pe(bl,{}),F=Pe(Nn,void 0),{children:K,components:T}=ia("TableColumn"),A=Be(new Map);Xl(Nn,{addChild:(H,P)=>{A.set(H,P)},removeChild:H=>{A.delete(H)}});const Y=R();ve([T,A],([H,P])=>{if(H.length>0){const D=[];H.forEach(Q=>{const ae=P.get(Q);ae&&D.push(ae)}),Y.value=D}else Y.value=void 0});const X=Be({dataIndex:n,title:r,width:o,minWidth:s,align:a,fixed:i,ellipsis:f,sortable:$,filterable:b,cellClass:y,headerCellClass:B,bodyCellClass:x,summaryCellClass:k,cellStyle:O,headerCellStyle:S,bodyCellStyle:d,summaryCellStyle:p,index:g,tooltip:z,children:Y,slots:t});return m&&(F?F.addChild(m.uid,X):(l=C.addColumn)==null||l.call(C,m.uid,X)),Ht(()=>{var H;m&&(F?F.removeChild(m.uid):(H=C.removeColumn)==null||H.call(C,m.uid))}),()=>{var H;return K.value=(H=t.default)==null?void 0:H.call(t),K.value}}});const cr=Object.assign(Vt,{Thead:Hl,Tbody:ql,Tr:Xe,Th:Gl,Td:ol,Column:Rt,install:(e,t)=>{rl(e,t);const l=il(t);e.component(l+Vt.name,Vt),e.component(l+Hl.name,Hl),e.component(l+ql.name,ql),e.component(l+Xe.name,Xe),e.component(l+Gl.name,Gl),e.component(l+ol.name,ol),e.component(l+Rt.name,Rt)}});export{Ut as I,vl as K,Ml as O,Uo as S,cr as T,cu as a};
